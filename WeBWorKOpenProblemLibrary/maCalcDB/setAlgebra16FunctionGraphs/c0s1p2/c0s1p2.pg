#DESCRIPTION
#KEYWORDS('function', 'graph', 'linear', 'increasing/decreasing')
## tcao tagged and PAID on 2-20-2004

## DBsubject('Algebra')
## DBchapter('Functions')
## DBsection('Average Rate of Change: Increasing and Decreasing Functions')
## Date('6/3/2002')
## Author('')
## Institution('')
## TitleText1('College Algebra')
## EditionText1('3')
## AuthorText1('Stewart, Redlin, Watson')
## Section1('4.4')
## Problem1('18')
#Goal: Identify that a line represents an increasing, decreasing or constant function
# or is not the graph of a function (when the line is vertical).
#ENDDESCRIPTION

DOCUMENT();        # This should be the first executable line in the problem.

loadMacros("PG.pl",
           "PGbasicmacros.pl",
           "PGchoicemacros.pl",
           "PGanswermacros.pl",
"PGauxiliaryFunctions.pl");

$pictSet=&random(1,3,1);  #there are three sets of graphs

$pictNum=&random(1,4,1);  #each set has 4 graphs the numbers are below

@pictID = (
"1-55141.gif",
"1-79226.gif",
"1-75352.gif",
"1-65474.gif",
"2-96187.gif",
"2-11287.gif",
"2-68382.gif",
"2-63428.gif",
"3-44144.gif",
"3-69221.gif",
"3-18387.gif",
"3-55459.gif"
);

sub pictIndex{    # this gives offsets into @pictID -- I was too lazy to do multidimensional arrays
	my ($i,$j)=@_;
	return(($i-1)*4+$j-1 )
	}

@question = ();
@answer =();

TEXT(beginproblem(),
 "Enter the letter of the graph of the function which
  corresponds to each statement. $BR "
 );
qa(~~@question,~~@answer,
"The graph of the line is increasing",
@pictID[&pictIndex($pictSet,1)],
"The graph of the line is decreasing",
@pictID[&pictIndex($pictSet,2)],
"The graph of the line is constant",
@pictID[&pictIndex($pictSet,3)],
"The graph of the line is not the graph of a function",
@pictID[&pictIndex($pictSet,4)],
);

@slice = &NchooseK(4,4);				# select an ordered subset of the questions and answers
@shuffle = &shuffle(scalar(@slice));    # create a permutation of the right length
@images =  @answer[@slice[@shuffle]];   # create a permuted list of the answers
@captions =@ALPHABET[0..3];             # the caption letters are always in order
TEXT(
&match_questions_list(@question[@slice]), # format the ordered subset of questions
&imageRow(~~@images,~~@captions)          # format the answers (and caption letters)
);
@ans = @ALPHABET[&invert(@shuffle ) ];
ANS(str_cmp( [@ans] ) ); # the correct answers are obtained by applying the inverse (adjoint) permutation to the captions.

ENDDOCUMENT();        # This should be the last executable line in the problem.
