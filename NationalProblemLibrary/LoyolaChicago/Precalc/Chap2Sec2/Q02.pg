## DESCRIPTION
## Problem from Functions Modeling Change, Connally, et al., 3rd ed.
## WeBWorK problem written by Adam Spiegler <aspiegler@luc.edu>
## ENDDESCRIPTION

## DBsubject('Precalculus')
## DBchapter('Functions')
## DBsection('Domain and Range')
## KEYWORDS('functions','domain','range','input','output','interval notation')
## TitleText1('Functions Modeling Change')
## EditionText1('3')
## AuthorText1('Connally')
## Section1('2.2')
## Problem1('2')
## Author('Adam Spiegler')
## Institution('Loyola University Chicago')

DOCUMENT();

loadMacros("PG.pl",
           "PGbasicmacros.pl",
           "PGchoicemacros.pl",
           "PGanswermacros.pl",
           "PGgraphmacros.pl",
           "extraAnswerEvaluators.pl",
           "PGauxiliaryFunctions.pl",
           "PGgraphmacros.pl"
           );
       
TEXT(beginproblem()); # standard preamble to each problem.


$showPartialCorrectAnswers = 1;

$x_end = random(1,3,1);
$f = "f(x) = \frac{1}{x^2}";

$domain = ("[- $x_end ,0) U (0, $x_end]");
$range = ("[1/($x_end**2), infinity)");

BEGIN_TEXT
Question 2:
$BR $SPACE $BR
Use a graph to find the range of the function on the given interval below:
$BR
\[ $f \ \ \ \ \ \ \ \ - $x_end \leq x \leq $x_end \]
$BR
$SPACE
$BR
On a separate piece of paper sketch a graph of $BITALIC f(x)${EITALIC} and determine the domain and range.  
$BR
$SPACE
$BR
What is the range of $BITALIC f(x)${EITALIC} on this interval? $SPACE \{ ans_rule(25) \} $BR
$SPACE $SPACE $SPACE \{ htmlLink(qq!http://math.luc.edu/~spiegler/interval.html!,"click here for help using interval notation") \} 


END_TEXT

ANS(interval_cmp( $range ) );

$dx = 2*$x_end;

$f = "1/x^2 for x in <-$x_end,$x_end> using color:blue and weight:2";
$graph = init_graph(-$x_end -1,-2,$x_end +1,10,'axes'=>[0,0],
                    'ticks'=>[$dx+2,1]);
$graph->lb('reset');
for ($j = -$x_end; $j <= -1; $j++){
     $graph->lb(new Label($j-.1,-0.1,$j,'black','left','top')) };
#for ($j = 1; $j <= $i; $j++){
#     $graph->lb(new Label(-0.1,$j+.1,$j,'black','right','top')) };
for ($j = 1; $j <= $x_end; $j++){
     $graph->lb(new Label($j+.1,-0.1,$j,'black','right','top')) };
$point[0] = closed_circle( - $x_end,1/($x_end**2), black );
$point[1] = closed_circle( $x_end,1/($x_end**2), black);
$graph -> stamps(@point);
plot_functions( $graph, $f); 

$denom = $x_end**2;

SOLUTION(EV3(<<'END_SOLUTION'));
$BR $SPACE $BR
$BBOLD SOLUTION $EBOLD
$BR
The graph of \( y = f(x) \) over \( - $x_end \leq x \leq $x_end \) is drawn below:
$BR
$BCENTER
\{ image(insertGraph($graph), width => 200, height => 200, tex_size => 700) \}
$ECENTER
$BR
The range is therefore \( \left[ \frac{1}{$denom} , + \infty \right) \) $SPACE , or \( \frac{1}{$denom} \leq f(x) < + \infty \).
$BR $SPACE $BR
First notice as $BITALIC x $EITALIC gets close to zero, the value of $BITALIC f(x) $EITALIC gets very large, and in fact goes to \( + \infty \).   This is because when the denominator of a fraction is very small, the value of that function is very large.  The upper limit of the range is therefore \( + \infty \) (which is never included).  The function attains its smallest value of the interval \( - $x_end \leq x \leq $x_end \) at the endpoints \( x = - $x_end \) and \( x = $x_end \), where \( f( - $x_end ) = f( $x_end ) = \frac{1}{$denom} \).
$BR 
END_SOLUTION
      
ENDDOCUMENT();   # This should be the last executable line in the problem.
