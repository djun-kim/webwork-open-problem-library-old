# DESCRIPTION
# Problem from Functions Modeling Change, Connally et al., 3rd ed.
# WeBWorK problem written by Adam Spiegler, <aspiegler@luc.edu>
# ENDDESCRIPTION

## DBsubject('Precalculus')
## DBchapter('Exponential Functions')
## DBsection('Comparing Exponential and Linear Functions')
## KEYWORDS('exponential functions','annual growth rate','linear growth')
## TitleText1('Functions Modeling Change')
## EditionText1('3')
## AuthorText1('Connally')
## Section1('3.2')
## Problem1('6')
## Author('Adam Spiegler and Paul Pearson')
## Institution('Loyola University Chicago and Fort Lewis College')

DOCUMENT();       

loadMacros("PG.pl",
           "PGbasicmacros.pl",
#           "PGchoicemacros.pl",
           "PGanswermacros.pl",
#           "PGgraphmacros.pl",
#           "extraAnswerEvaluators.pl",
           "PGauxiliaryFunctions.pl",
"MathObjects.pl",
"AnswerFormatHelp.pl",
"PGcourse.pl",
           );
       
TEXT(beginproblem()); # standard preamble to each problem.

Context("Numeric");

$showPartialCorrectAnswers = 1;

$line_y[0] = random(11,19,2);
$m = random(4.3,9.4,.3);
#@sign = ("+", "-");
#$w = random(0,1,1);
for ($i = 1; $i <= 4; $i++){
     $line_y[$i] = $line_y[$i-1] + $m
     }; 

$exp_y[0] = random(12.5,22.5,2);
$b = random(1.2,1.8,.2);
for ($j = 1; $j <= 4; $j++){
     $exp_y[$j] = $exp_y[$j-1] * $b
     };

$k = random(0,1,1);
$k = 0;
if ($k==0){
            for ($r=0; $r<=4; $r++){
                                    $first[$r] = $line_y[$r]; 
                                    $ans1 = "$line_y[0] + $m x";
                                   }
          }
else {
       for ($r=0; $r<=4; $r++){
                               $first[$r] = $exp_y[$r]; 
                               $ans1 = "$exp_y[0] ($b)^x"
                              }
          };
for ($r = 0; $r <= 3; $r++){ $diff[$r] = $first[$r+1]-$first[$r];
                       $ratio[$r] = round($first[$r+1]/$first[$r]*100)/100 };

@reason = ("Thus we see the difference of consecutive terms is constant, $BITALIC m $EITALIC = $m, while the ratio is not constant.  The function \( f(x) \) is linear and the equation is \( f(x) = $first[0] + $m x \).",
"Thus we see the difference of consecutive terms is NOT constant while the ratio is constant, $BITALIC b $EITALIC = $b.  The function \( f(x) \) is exponential and the equation is \( f(x) = $first[0] ($b)^x \).");


BEGIN_TEXT
The table below contain values from an exponential or a linear function.  Decide if the function is linear or exponential, and then find a possible equation for it.  You should also practice sketching its graph on a separate piece of paper. 
$BR
$BR
\( f(x) = \) \{ ans_rule(20) \}
\{ AnswerFormatHelp("formulas") \}
$BR
$BCENTER
\{ begintable(2) \}
\{ row( "$SPACE x $SPACE" , "$SPACE $SPACE f(x) $SPACE $SPACE" ) \}
\{ row( "0" , $first[0] ) \}
\{ row( "1" , $first[1] ) \}
\{ row( "2" , $first[2] ) \}
\{ row( "3" , $first[3] ) \}
\{ row( "4" , $first[4] ) \}
\{ endtable() \}
$ECENTER
END_TEXT

ANS(Compute("$ans1")->cmp() );

#ANS(fun_cmp($ans1,vars=>'x'));

SOLUTION(EV3(<<'END_SOLUTION'));
$BR $SPACE $BR 
$BBOLD  SOLUTION $EBOLD
$BR 

If a function is linear, then the differences in successive function values will be constant. If a function is exponential, the ratios of successive function values will remain constant.
$BR $SPACE $BR
Looking at the DIFFERENCE of consecutive terms we see:
$BR
\( f(1)-f(0)=$first[1] - $first[0] = $diff[0] \) $BR
\( f(2)-f(1)=$first[2] - $first[1] = $diff[1] \) $BR
\( f(3)-f(2)=$first[3] - $first[2] = $diff[2] \) $BR
\( f(4)-f(3)=$first[4] - $first[3] = $diff[3] \) $BR
$BR $SPACE $BR
while on the other hand checking the RATIO if consecutive terms we see: $BR
\( \frac{f(1)}{f(0)}=\frac{$first[1]}{$first[0]} = $ratio[0] \) $BR
\( \frac{f(2)}{f(1)}=\frac{$first[2]}{$first[1]} = $ratio[1] \) $BR
\( \frac{f(3)}{f(2)}=\frac{$first[3]}{$first[2]} = $ratio[2] \) $BR
\( \frac{f(4)}{f(3)}=\frac{$first[4]}{$first[3]} = $ratio[3] \) $BR
$BR $SPACE $BR
$reason[$k]
$BR

END_SOLUTION
      

      

COMMENT('MathObject version');
ENDDOCUMENT();