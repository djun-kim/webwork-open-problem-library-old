## DESCRIPTION
## Problem from Functions Modeling Change, Connally, et al., 3rd ed.
## WeBWorK problem written by Adam Spiegler <aspiegler@luc.edu>
## ENDDESCRIPTION

## DBsubject('Precalculus')
## DBchapter('Linear Functions and Change')
## DBsection('Formulas for Linear Functions')
## KEYWORDS('lines','linear functions','slope-intercept','point-slope form')
## TitleText1('Functions Modeling Change')
## EditionText1('3')
## AuthorText1('Connally')
## Section1('1.4')
## Problem1('28')
## Author('Adam Spiegler')
## Institution('Loyola University Chicago')

DOCUMENT();       

loadMacros("PG.pl",
           "PGbasicmacros.pl",
           "PGchoicemacros.pl",
           "PGanswermacros.pl",
           "PGgraphmacros.pl",
           "PGauxiliaryFunctions.pl",
           "PGgraphmacros.pl"
           );
       
TEXT(beginproblem()); # standard preamble to each problem.


$showPartialCorrectAnswers = 1;

######################################################################
# we graph the function y = 5000x+125000 and use labels to fudge.

$dy = random(10000,40000,5000);  ## change in y when dx =5
$y[0] = random(100000,200000,10000);
$y[1] = $y[0]+$dy;
$y[2] = $y[1] + 2*$dy;
$x[0] = 5;
$x[1] = 10;
$x[2] = 20;

$m = $dy/5;
$b = $y[0] - $dy;
$ans = "$m h + $b";

################################################################
$graph = init_graph(-5,-30000,25,250000,'axes'=>[0,0],
        'ticks'=>[6,1]);
$graph->lb('reset');

$graph->lb(new Label(5,-5000,$x[0],'black','left','top'));
$graph->lb(new Label(9.5,-5000,$x[1],'black','left','top'));
$graph->lb(new Label(19.5,-5000,$x[2],'black','left','top'));
$graph->lb(new Label(-.35,150000,$y[0],'black','right','middle'));
$graph->lb(new Label(-.35,175000,$y[1],'black','right','middle'));
$graph->lb(new Label(-.35,225000,$y[2],'black','right','middle'));

$graph->lb(new Label(24,-25000,"h, height of an aparment (m)", 
                              'black','right','bottom'));
$graph->lb(new Label(-4,245000,"p, price of an apartment", 
                              'black','left','top'));


$f = "5000*x+125000 for x in <0,20> using color:blue and weight:2";
$tick1 = "150000 for x in <-.25,.5> using color:black and weight:1";
$tick2 = "175000 for x in <-.25,.5> using color:black and weight:1";
$tick3 = "225000 for x in <-.25,.5> using color:black and weight:1";

$point[0] = closed_circle( 5,150000, black );
$point[1] = closed_circle( 10,175000, black );
$point[2] = closed_circle( 20,225000, black );


$graph -> stamps(@point);
plot_functions( $graph, $f, $tick1, $tick2, $tick3);

###################################################

BEGIN_TEXT
Question 28:
$BR $SPACE $BR
Find a formula for the linear equation graphed below. You can enlarge the graph by clicking on it.
$BR
$BCENTER
\{  image(insertGraph($graph),width=>200,height=>200,'tex_size'=>700) \}
$BR
$BITALIC (click on the image to enlarge) $EITALIC
$ECENTER
$BR $SPAE $BR
\( p = f(h) = \) \{ ans_rule(20) \} 
END_TEXT
      
ANS(fun_cmp($ans,vars=>'h'));

SOLUTION(EV3(<<'END_SOLUTION'));
$BR $SPACE $BR
$BBOLD SOLUTION $EBOLD
$BR
Since the function is linear, we can choose any two points (from the graph) to find its formula.  We use the form $BITALIC p = b + mh $EITALIC to get the price of an apartment as a function of its height.  We use the two points ($x[1], $y[1]) and ($x[2], $y[2]).  We begin by finding the slope
$BR
\[ m = \frac{ \triangle p}{\triangle h} = \frac{$y[2] - $y[1]}{$x[2] - $x[1]} = $m \]
$BR
Next, we substitute a point into our equation using our slope of $m dollars per meter of height and solve for $BITALIC b${EITALIC}, the $BITALIC p${EITALIC}-intercept.  We use the point ( $x[1], $y[1]):
$BR $SPACE $BR
$SPACE $SPACE $SPACE $SPACE $SPACE \( $y[1] = b + $m \cdot $x[1] \)
$BR
$SPACE $SPACE $SPACE $SPACE $SPACE \( $b = b  \)
$BR $SPACE $BR
Therefore, $SPACE \( p = f(h) = $b + $m h \)
$BR
END_SOLUTION

ENDDOCUMENT();   # This should be the last executable line in the problem.