# DESCRIPTION
# Problem from Functions Modeling Change, Connally et al., 3rd ed.
# WeBWorK problem written by Adam Spiegler, <aspiegler@luc.edu>
# ENDDESCRIPTION

## DBsubject('Precalculus')
## DBchapter('Polynomial And Rational Functions')
## DBsection('The Short-Run Behavior Of Polynomials')
## KEYWORDS('polynomial','zero','factor')
## TitleText1('Functions Modeling Change')
## EditionText1('3')
## AuthorText1('Connally')
## Section1('9.3)
## Problem1('24')
## Author('Adam Spiegler and Paul Pearson')
## Institution('Loyola University Chicago and Fort Lewis College')

DOCUMENT();       

loadMacros("PG.pl",
           "PGbasicmacros.pl",
#           "PGchoicemacros.pl",
           "PGanswermacros.pl",
           "PGgraphmacros.pl",
#           "PGauxiliaryFunctions.pl",
#           "extraAnswerEvaluators.pl",
"MathObjects.pl",
"AnswerFormatHelp.pl",
"PGcourse.pl",
           );
       
TEXT(beginproblem()); # standard preamble to each problem.

Context("Numeric");

$showPartialCorrectAnswers = 1;

$s = random(1,6,1);
$r = -2*$s;
$y0 = random(20,80,2);
$sqr = $s**2;
$bot = $sqr*$r;

$ans = Formula("$y0/$bot (x - $r)(x^2 - $sqr)")->reduce;

###########  Plot f(x) = -1.5(x+4)(x^2-4) ########
$f = "-1.5(x+4)(x^2-4) for x in <-5,3> using color:blue and weight:2";
$graph = init_graph(-5,-28,3,28,'axes'=>[0,0],'ticks'=>[8,1]);
$graph->lb('reset');
$graph->lb(new Label(2.8,.7,"x",'black','right','bottom'));
$graph->lb(new Label(-.1,27,"y",'black','right','top'));
$graph->lb(new Label(-.2,24,$y0,'black','right','middle'));
$graph->lb(new Label(-4,-.7,$r,'black','right','top'));
$graph->lb(new Label(-2,-.7,-$s,'black','left','top'));
$graph->lb(new Label(2,-.7,$s,'black','right','top'));
$point[0] = closed_circle( -4,0, black );
$point[1] = closed_circle( -2,0, black );
$point[2] = closed_circle( 2,0, black );
$point[3] = closed_circle( 0,24, black );
$graph->moveTo(-.1,24); 
$graph->lineTo(.1,24,'black');
$graph -> stamps(@point);
plot_functions( $graph, $f); 
$fig = image(insertGraph($graph), width => 400, height => 400, tex_size => 700);

BEGIN_TEXT
Find a formula for the polynomial of least degree that is graphed below.  The polynomial has ${BITALIC}x${EITALIC}-intercepts 
\( $r, -$s, $s \) and ${BITALIC}y${EITALIC}-intercept \( $y0 \).
$BR
$BR
\( y = \) \{ ans_rule(30) \}
\{ AnswerFormatHelp("formulas") \}
$PAR
$BCENTER
$fig
$ECENTER
END_TEXT

ANS( $ans->cmp() );

#ANS( fun_cmp( $ans, vars=>'x' ) );

SOLUTION(EV3(<<'END_SOLUTION'));
$BR $SPACE $BR 
$BBOLD  SOLUTION $EBOLD
$BR 
To pass through the given points, the polynomial must be of at least
degree 3 (since it has three zeros).  Since there are zeros at \( \ x = $r \ \) , \( \ x = -$s \ \), and \( \ x = $s \ \), we know it has factors \( \ (x-$r) \ \), \( \ (x+$s) \ \), and \( \ (x-$s) \ \). Thus, let 
$BR
\( f(x) = k (x-$r)(x+$s)(x-$s) = k (x-$s)(x^2-$sqr) \).  
$BR $SPACE $BR
Use \( (0, $y0 ) \) to solve for \( k \):
$BR $SPACE $BR
\( k(0-$r)(0-$sqr) = k($bot) = $y0 \).  Thus \( \ k= \frac{$y0}{$bot} \).  This gives \( y = \frac{$y0}{$bot} (x-$r)(x^2-$sqr) \).
$BR
END_SOLUTION

      

COMMENT('MathObject version');
ENDDOCUMENT();