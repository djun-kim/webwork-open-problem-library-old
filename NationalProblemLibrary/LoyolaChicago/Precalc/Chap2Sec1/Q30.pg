## DESCRIPTION
## Problem from Functions Modeling Change, Connally, et al., 3rd ed.
## WeBWorK problem written by Adam Spiegler <aspiegler@luc.edu>
## ENDDESCRIPTION

## DBsubject('Precalculus')
## DBchapter('Functions')
## DBsection('Input and Output')
## KEYWORDS('functions','evaluating','solving','input','output')
## TitleText1('Functions Modeling Change')
## EditionText1('3')
## AuthorText1('Connally')
## Section1('2.1')
## Problem1('30')
## Author('Adam Spiegler')
## Institution('Loyola University Chicago')

DOCUMENT();       

loadMacros("PG.pl",
           "PGbasicmacros.pl",
           "PGchoicemacros.pl",
           "PGanswermacros.pl",
           "PGgraphmacros.pl",
#           "extraAnswerEvaluators.pl",
#           "PGauxiliaryFunctions.pl",
#           "PGgraphmacros.pl",
"MathObjects.pl",
"unionTables.pl",
"AnswerFormatHelp.pl",
           );
       
TEXT(beginproblem()); 

$refreshCachedImages=1;

$f = "(x-2)^2*(x+2) for x in <-3,4> using color:blue and weight:2";

$graph = init_graph(-3,-9,4,18,'axes'=>[0,0],'grid'=>[7,9]);
$graph->lb('reset');

foreach my $i (-2, -1, 1, 2, 3, 4) {
 $graph->lb(new Label($i+.1,-8,$i,'black','center','middle')); 
}

foreach my $i (-6, -3, 3, 6, 9, 12, 15) {
 $graph->lb(new Label(-2.75,$i+.5,$i,'black','center','middle')); 
}

$graph->lb(new Label(3.5,-.5,"x",'black','right','top'));
$graph->lb(new Label(-0.25,17,"y",'black','right','top'));
$graph->lb(new Label(3,15,"h(x)",'black','right','top'));
plot_functions( $graph, $f ); 


@x = (-2,-1,0,1,2,3);
@h = (0, 9, 8, 3, 0, 5);

@x_mix = (3,2,0);
@x_match = (1,-1,-2);

@y_mix = (5, 0, 8);
@y_match = (3, 9, 0);

@pick = NchooseK(3,2);

$a = $y_mix[$pick[0]] - $y_match[$pick[0]];
$b = $y_mix[$pick[1]] - $y_match[$pick[1]];

@grab = NchooseK(6,2);
$m = random(2,4,1);
$k = random(2,6,1);

$c = $m*$h[$grab[0]];
$d = $h[$grab[1]] + $k;

BEGIN_TEXT
\{
ColumnTable(
"Using the graph in the figure for the function \( y = h(x) \), fill in the missing values in the table below. ".
AnswerFormatHelp("numbers").
$PAR.
$BCENTER.
begintable(7).
row( "x" , @x ).
row( "h(x)" , ans_rule(6) , ans_rule(6) , ans_rule(6) , ans_rule(6) , ans_rule(6) , ans_rule(6) ).
endtable().
$ECENTER.
$BR.
"(a) Evaluate \( h( $x_mix[$pick[0]] ) - h( $x_match[$pick[0]] ) = \) ".
ans_rule(10).$SPACE.AnswerFormatHelp("numbers").
$BR.
$BR.
"(b) Evaluate \( h( $x_mix[$pick[1]] ) - h( $x_match[$pick[1]] ) = \) ".
ans_rule(10).$SPACE.AnswerFormatHelp("numbers").
$BR.
$BR.
"(c) Evaluate \( $m \cdot h( $x[$grab[0]] ) = \) ".
ans_rule(10).$SPACE.AnswerFormatHelp("numbers").
$BR.
$BR.
"(d) Evaluate \( h( $x[$grab[1]] ) + $k  = \) ".
ans_rule(10).$SPACE.AnswerFormatHelp("numbers")
,
$BCENTER.
image(insertGraph($graph), width => 350, height => 350, tex_size => 700).
$BR.
"(Click on graph to enlarge)".
$ECENTER
,
indent=>"0", separation=>"30", valign=>"TOP"
);
\}
END_TEXT

$showPartialCorrectAnswers = 0;

foreach my $i (0..5) {
  ANS(Real($h[$i])->cmp() );
}

ANS(Real($a)->cmp() );
ANS(Real($b)->cmp() );
ANS(Real($c)->cmp() );
ANS(Real($d)->cmp() );

#ANS(num_cmp( $h[0] ) );
#ANS(num_cmp( $h[1] ) );
#ANS(num_cmp( $h[2] ) );
#ANS(num_cmp( $h[3] ) );
#ANS(num_cmp( $h[4] ) );
#ANS(num_cmp( $h[5] ) );

#ANS(num_cmp( $a ) );
#ANS(num_cmp( $b ) );
#ANS(num_cmp( $c ) );
#ANS(num_cmp( $d ) );


SOLUTION(EV3(<<'END_SOLUTION'));
$BR $SPACE $BR
$BBOLD SOLUTION $EBOLD
$BR
By looking at the graph the table is completed as follows
$BR
$BCENTER
\{ begintable(7) \}
\{ row( "x" , @x ) \}
\{ row( "h(x)" , @h ) \}
\{ endtable() \}
$ECENTER
$BR $SPACE $BR
a) From the table we see that \( h( $x_mix[$pick[0]] ) = $y_mix[$pick[0]] \) $SPACE while $SPACE \( h( $x_match[$pick[0]] ) = $y_match[$pick[0]] \) $SPACE , so
$BR 
\[ h( $x_mix[$pick[0]] ) - h( $x_match[$pick[0]] ) = $y_mix[$pick[0]] - $y_match[$pick[0]] = $a \]
$BR
$SPACE
$BR
b) From the table we see that \( h( $x_mix[$pick[1]] ) = $y_mix[$pick[1]] \) $SPACE while $SPACE \( h( $x_match[$pick[1]] ) = $y_match[$pick[1]] \) $SPACE , so
$BR 
\[ h( $x_mix[$pick[1]] ) - h( $x_match[$pick[1]] ) = $y_mix[$pick[1]] - $y_match[$pick[1]] = $b \]
$BR
$SPACE
$BR
c) From the table we see that \( h( $x[$grab[0]] ) = $h[$grab[0]] \), $SPACE $SPACE so \( $m \cdot h( $x[$grab[0]] ) = $m \cdot $h[$grab[0]] = $c \) 
$BR
$SPACE
$BR
d) From the table we see that \( h( $x[$grab[1]] ) = $h[$grab[1]] \), $SPACE $SPACE so \( h( $x[$grab[1]] ) + $k = $h[$grab[1]] +$k = $d \) 
$BR
END_SOLUTION


COMMENT('MathObject version');
ENDDOCUMENT();