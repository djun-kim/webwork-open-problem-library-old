## DESCRIPTION
## Problem from Functions Modeling Change, Connally, et al., 3rd ed.
## WeBWorK problem written by Adam Spiegler <aspiegler@luc.edu>
## ENDDESCRIPTION

## DBsubject('Precalculus')
## DBchapter('Functions')
## DBsection('Input and Output')
## KEYWORDS('functions','evaluating','solving','input','output')
## TitleText1('Functions Modeling Change')
## EditionText1('3')
## AuthorText1('Connally')
## Section1('2.1')
## Problem1('22')
## Author('Adam Spiegler and Paul Pearson')
## Institution('Loyola University Chicago and Fort Lewis College')


##################################
#  Initialization

DOCUMENT();       

loadMacros(
"PGstandard.pl",
"MathObjects.pl",
"contextLimitedPolynomial.pl",
"AnswerFormatHelp.pl",
"PGcourse.pl",
);
       
TEXT(beginproblem()); 


##################################
#  Setup

Context("LimitedPolynomial-Strict")->variables->are(r=>"Real");
Context()->flags->set(singlePowers=>1);

$j = random(2,5,1);
$k = random(2,5,1);
if ($j == $k**$k) { $j = 2; $k = random(3,5,1) };

$eval = $j - $k**2;
$c1 = 2*$k;
$c0 = $j - $k**2;
$d0 = $j - $k;
$e0 = $j - $eval;

$A = Real("$eval");
$B = Formula("- r**2 + $j ")->reduce;
$C = Formula("- r**2 + $c1 * r + $c0 ")->reduce;
$D = Formula("- r**2 + $d0")->reduce;
$E = Formula("- r**2 + $e0")->reduce;


##############################################
#  Main text

Context()->texStrings;
BEGIN_TEXT

Let \( q(x) = $j - x^2 \).  Evaluate and simplify the following:
$BR
$BR
(a) \( q( $k ) = \) 
\{ ans_rule(10) \}
\{ AnswerFormatHelp("number") \}
$BR
$BR
(b) \( q(r) = \) 
\{ ans_rule(20) \} 
\{ AnswerFormatHelp("formula") \}
$BR
$BR
(c) \( q( r - $k ) = \) 
\{ ans_rule(20) \} 
\{ AnswerFormatHelp("formula") \}
$BR
$BR
(d) \( q(r) - $k  = \) 
\{ ans_rule(20) \} 
\{ AnswerFormatHelp("formula") \}
$BR
$BR
(e) \( q(r) - q( $k ) = \)
\{ ans_rule(20) \} 
\{ AnswerFormatHelp("formula") \}

END_TEXT
Context()->normalStrings;

########################################
#  Answer evaluation

$showPartialCorrectAnswers = 1;

ANS( $A->cmp() );
ANS( $B->cmp() );
ANS( $C->cmp() );
ANS( $D->cmp() );
ANS( $E->cmp() );


#####################################
#  Solution

$twice = 2*$k;
$square = $k**2;

SOLUTION(EV3(<<'END_SOLUTION'));
$BR $SPACE $BR
$BBOLD SOLUTION $EBOLD
$BR
a) Substituting, \( q($k) = $j - ($k)^2 = $eval \)
$BR $SPACE $BR
b) Substituting $BITALIC r $EITALIC for $BITALIC x $EITALIC in the formula \( q(r) = $j - r^2 = (-1)r^2 + (0)r + $j \).
$BR $SPACE $BR
c) Substituting \( q(r - $k) = $j - (r - $k)^2 = $j - \left( r^2 - $twice r + $square \right) = - r^2 + $twice r + $c3 \)
$BR $SPACE $BR
d) Using the answers to a), \( q(r) - $k = -r^2 + $j - $k = -r^2 + $d3 \)
$BR $SPACE $BR
e) Using the answers to a) and b), \( q(r) - q($k) = -r^2 + $j - $eval = -r^2 + $e3 \)
$BR
END_SOLUTION

ENDDOCUMENT();  