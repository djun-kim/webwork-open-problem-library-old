# DESCRIPTION
# Problem from Functions Modeling Change, Connally et al., 3rd ed.
# WeBWorK problem written by Adam Spiegler, <aspiegler@luc.edu>
# ENDDESCRIPTION

## DBsubject('Precalculus')
## DBchapter('Compositions, Inverses, And Combinations Of Functions')
## DBsection('Composition Of Functions')
## KEYWORDS('composition','decomposition','function')
## TitleText1('Functions Modeling Change')
## EditionText1('3')
## AuthorText1('Connally')
## Section1('8.1')
## Problem1('22')
## Author('Adam Spiegler')
## Institution('Loyola University Chicago')

DOCUMENT();       

loadMacros("PG.pl",
           "PGbasicmacros.pl",
           "PGchoicemacros.pl",
           "PGanswermacros.pl",
           "PGgraphmacros.pl",
           "PGauxiliaryFunctions.pl",
           "extraAnswerEvaluators.pl"
           );
       
TEXT(beginproblem()); # standard preamble to each problem.


$showPartialCorrectAnswers = 1;

#@num = NchooseK(6,6);
for ($i = 0; $i <= 5; $i++){$num[$i] = $i };
#@inv = invert(@num);

$p[0] = $num[4];
$p[1] = $num[5];
$p[2] = $num[3];
$p[3] = $num[2];
$p[4] = $num[1];
$p[5] = $num[0];

$q[0] = $num[3];
$q[1] = $num[2];
$q[2] = $num[4];
$q[3] = $num[0];
$q[4] = $num[5];
$q[5] = $num[1];

$r[0] = $num[5];
$r[1] = $num[1];
$r[2] = $num[0];
$r[3] = $num[4];
$r[4] = $num[2];
$r[5] = $num[3];

BEGIN_TEXT
Question 22:
$BR
$SPACE
$BR
Fill in the missing values in the tables below for \( p(t) \), \( q(t) \), and their composition \( r(t) = q(p(t)) \).
$BR $SPACE $BR
$BR
$BCENTER
\{ begintable(4) \}
\{ row("$SPACE \( t \)", "\(p(t)\)", "\(q(t)\)", "\(r(t)\)" ) \}
\{ row( "$SPACE 0 $SPACE" , "$SPACE $SPACE $p[0]", ans_rule(3) , ans_rule(3) ) \}
\{ row("$SPACE 1 $SPACE", ans_rule(3) , "$SPACE $SPACE $q[1]", "$SPACE $SPACE $r[1]" ) \}
\{ row("$SPACE 2 $SPACE", ans_rule(3) , ans_rule(3), "$SPACE $SPACE $r[2]" ) \}
\{ row("$SPACE 3 $SPACE", "$SPACE $SPACE $p[3]", "$SPACE $SPACE $q[3]" , "$SPACE $SPACE $r[3]" ) \}
\{ row("$SPACE 4 $SPACE", "$SPACE $SPACE $p[4]", "$SPACE $SPACE $q[4]", ans_rule(3) ) \}
\{ row("$SPACE 5 $SPACE", "$SPACE $SPACE $p[5]", "$SPACE $SPACE $q[5]", "$SPACE $SPACE $r[5]" ) \}
\{ endtable() \}
$ECENTER 
$BR


END_TEXT

ANS(num_cmp( $q[0] ) );
ANS(num_cmp( $r[0] ) );
ANS(num_cmp( $p[1] ) );
ANS(num_cmp( $p[2] ) );
ANS(num_cmp( $q[2] ) );
ANS(num_cmp( $r[4] ) );

SOLUTION(EV3(<<'END_SOLUTION'));
$BR $SPACE $BR 
$BBOLD  SOLUTION $EBOLD
$BR 
First, we can find \( \ r(0) \ \) and \( \ r(4) \ \) by referring to the table:
$BR
$SPACE $SPACE $SPACE $SPACE $SPACE $SPACE \( r(0) = q(p(0)) = q(4) = 5 \ \). because \( \ p(0)=4 \)
$BR
$SPACE $SPACE $SPACE $SPACE $SPACE $SPACE \( r(4) = q(p(4)) = q(1) = 2 \ \) because \( \ p(4)=1 \).
$BR $SPACE $BR
Next, we find \( \ p(1) \ \) and \( \ p(2) \):
$BR
$SPACE $SPACE $SPACE $SPACE $SPACE $SPACE \( r(1) = q(p(1)) = 1 \ \) implies that \( \ p(1) = 5 \ \) since \( \ q(5) =1 \). 
$BR
$SPACE $SPACE $SPACE $SPACE $SPACE $SPACE \( r(2)=q(p(2))=0 \ \) implies \( \ p(2) = 3 \ \) since \( \ q(3) = 0 \).
$BR $SPACE $BR
Finally, we find \( \ q(0) \ \) and \( \ q(2) \):
$BR
$SPACE $SPACE $SPACE $SPACE $SPACE $SPACE \( p(5) = 0 \ \) so \( \ q(0) = q(p(5)) = r(5)=3 \).
$BR
$SPACE $SPACE $SPACE $SPACE $SPACE $SPACE \( p(3) = 2 \ \) so \( \ q(2) = q(p(3)) = r(3) =4 \).
$BR
END_SOLUTION
   
ENDDOCUMENT();