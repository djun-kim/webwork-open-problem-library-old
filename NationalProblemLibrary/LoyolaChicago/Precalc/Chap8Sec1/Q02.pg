# DESCRIPTION
# Problem from Functions Modeling Change, Connally et al., 3rd ed.
# WeBWorK problem written by Adam Spiegler, <aspiegler@luc.edu>
# ENDDESCRIPTION

## DBsubject('Precalculus')
## DBchapter('Compositions, Inverses, And Combinations Of Functions')
## DBsection('Composition Of Functions')
## KEYWORDS('composition','decomposition','function')
## TitleText1('Functions Modeling Change')
## EditionText1('3')
## AuthorText1('Connally')
## Section1('8.1')
## Problem1('1')
## Author('Adam Spiegler')
## Institution('Loyola University Chicago')

DOCUMENT();       

loadMacros("PG.pl",
           "PGbasicmacros.pl",
           "PGchoicemacros.pl",
           "PGanswermacros.pl",
           "PGgraphmacros.pl",
           "PGauxiliaryFunctions.pl",
           "extraAnswerEvaluators.pl"
           );
       
TEXT(beginproblem()); # standard preamble to each problem.


$showPartialCorrectAnswers = 1;

for ( $i = 0; $i <=5; $i++) { $x[$i] = $i };

@p = NchooseK(6,6);
@q = NchooseK(6,6);

for ($j = 0; $j <= 5; $j++){
           $ans1[$j] = $p[$q[$j]] };

for ($k = 0; $k <= 5; $k++){
           $ans2[$k] = $q[$p[$k]] };


BEGIN_TEXT
Questions 1-2:
$BR
$SPACE
$BR
Use the table of values for the functions \( p(x) \) and \( q(x) \) below to complete the tables for the composite functions defined in parts (a) and (b):

$BR
$BCENTER
\{ begintable(7) \}
\{ row("\( x \)", @x ) \}
\{ row("\( p(x) \)", @p ) \}
\{ row("\( q(x) \)", @q ) \}
\{ endtable() \}
$ECENTER 
$BR
$HR
a) Complete the table of values for the composite function \( \mathbf{r(x) = p( q(x) )} \) at $BITALIC x = 0, 1, 2, 3, 4, 5${EITALIC}.
$BR
$BCENTER
\{ begintable(7) \}
\{ row("\( x \)", @x ) \}
\{ row("\( r(x) \)", ans_rule(5), ans_rule(5), ans_rule(5), ans_rule(5), ans_rule(5), ans_rule(5)  ) \}
\{ endtable() \}
$ECENTER
$BR
$HR
b) Complete the table of values for the composite function \( \mathbf{s(x) = q( p(x) )} \) at $BITALIC x = 0, 1, 2, 3, 4, 5${EITALIC}.
$BR
$BCENTER
\{ begintable(7) \}
\{ row("\( x \)", @x ) \}
\{ row("\( s(x) \)", ans_rule(5), ans_rule(5), ans_rule(5), ans_rule(5), ans_rule(5), ans_rule(5)  ) \}
\{ endtable() \}
$ECENTER
$BR

END_TEXT

ANS( num_cmp( $ans1[0] ) );
ANS( num_cmp( $ans1[1] ) );
ANS( num_cmp( $ans1[2] ) );
ANS( num_cmp( $ans1[3] ) );
ANS( num_cmp( $ans1[4] ) );
ANS( num_cmp( $ans1[5] ) );
ANS( num_cmp( $ans2[0] ) );
ANS( num_cmp( $ans2[1] ) );
ANS( num_cmp( $ans2[2] ) );
ANS( num_cmp( $ans2[3] ) );
ANS( num_cmp( $ans2[4] ) );
ANS( num_cmp( $ans2[5] ) );


SOLUTION(EV3(<<'END_SOLUTION'));
$BR $SPACE $BR 
$BBOLD  SOLUTION $EBOLD
$BR 
a) $SPACE $SPACE To construct a table of values for \( r \), we must evaluate \( r(0) \),
\( r(1) , \ldots , r(5) \). Starting with \( r(0) \), we have
\( r(0) = p(q(0)) \). 
$BR $SPACE $BR
Therefore
\( r(0)=p($q[0]) \) because \( q(0)=$q[0] \).  Using the table given in the problem, we have \( r(0) = $ans1[0] \).
$BR $SPACE $BR
We can repeat this process for  \( r(1)=p(q(1))=p($q[1])=$ans1[1] \).  Similarly,
$BR $SPACE $BR
\( \begin{array}{rl}
r(2)&=p(q(2))=p($q[2])=$ans1[2] \\
r(3)&=p(q(3))=p($q[3])=$ans1[3] \\
r(4)&=p(q(4))=p($q[4])=$ans1[4] \\
r(5)&=p(q(5))=p($q[5])=$ans1[5] 
\end{array} \)
$BR $SPACE $BR
b) $SPACE $SPACE To construct a table of values for \( s \), we perform the same method as in part (a), in the opposite order of composition.
$BR $SPACE $BR
Therefore
\( s(0)=q($p[0]) \) because \( p(0)=$p[0] \).  Using the table given in the problem, we have \( s(0) = $ans2[0] \).
$BR $SPACE $BR
We can repeat this process for  \( s(1)=q(p(1))=q($p[1])=$ans2[1] \).  Similarly,
$BR $SPACE $BR
\( \begin{array}{rl}
s(2)&=q(p(2))=q($p[2])=$ans2[2] \\
s(3)&=q(p(3))=q($p[3])=$ans2[3]\\
s(4)&=q(p(4))=q($p[4])=$ans2[4]\\
s(5)&=q(p(5))=q($p[5])=$ans2[5] 
\end{array} \)
$BR
END_SOLUTION
   
ENDDOCUMENT();