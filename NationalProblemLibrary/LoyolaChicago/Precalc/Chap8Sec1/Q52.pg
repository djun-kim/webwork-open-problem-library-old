# DESCRIPTION
# Problem from Functions Modeling Change, Connally et al., 3rd ed.
# WeBWorK problem written by Adam Spiegler, <aspiegler@luc.edu>
# ENDDESCRIPTION

## DBsubject('Precalculus')
## DBchapter('Compositions, Inverses, And Combinations Of Functions')
## DBsection('Composition Of Functions')
## KEYWORDS('composition','decomposition','function')
## TitleText1('Functions Modeling Change')
## EditionText1('3')
## AuthorText1('Connally')
## Section1('8.1')
## Problem1('52')
## Author('Adam Spiegler')
## Institution('Loyola University Chicago')

DOCUMENT();       

loadMacros("PG.pl",
           "PGbasicmacros.pl",
           "PGchoicemacros.pl",
           "PGanswermacros.pl",
           "PGgraphmacros.pl",
           "PGauxiliaryFunctions.pl",
           "extraAnswerEvaluators.pl"
           );
       
TEXT(beginproblem()); # standard preamble to each problem.


$showPartialCorrectAnswers = 0;

$m = random(2,8,2);
$b = random(3,9,2);

$checkbox_mc = new_checkbox_multiple_choice();
$checkbox_mc -> qa("Which of the following decompositions of \( f(x) = p (q(x) ) \) into a pair of functions \( p(x) \) (the outside function)  and \( q(x) \) (the inside function) is/are correct ?  Select all that apply if more than one is appropriate.",
               "\( p(x) = \sqrt{x} \) and \( q(x) = $b - $m x \) $BR $SPACE",
               "\( p(x) = \sqrt{$b - x} \) and \( q(x) = $m x \) $BR $SPACE",
               "\( p(x) = \sqrt{-x} \) and \( q(x) = $m x - $b \) $BR $SPACE");

$checkbox_mc -> extra("\( p(x) = $b - $m x \) and \( q(x) = \sqrt{x} \) $BR
              $SPACE",
             "\( p(x) = \sqrt{$b + x} \) and \( q(x) = $m x \) $BR $SPACE", 
             "\( p(x) = \sqrt{- $m x} \) and \( q(x) = $b + x \) $BR $SPACE");
                      
$checkbox_mc -> makeLast("All of the above $BR $SPACE", "None of the above");

BEGIN_TEXT
Question 52:
$BR
$SPACE
$BR
Let \( f(x) = \sqrt{ $b - $m x } \) .
$BR
$SPACE
$BR
\{ $checkbox_mc -> print_q \}
$BR
\{ $checkbox_mc -> print_a \}
$BR

END_TEXT

ANS(checkbox_cmp( $checkbox_mc -> correct_ans ));

$prod = $m*$b;

SOLUTION(EV3(<<'END_SOLUTION'));
$BR $SPACE $BR 
$BBOLD  SOLUTION $EBOLD
$BR 
There is often times many (even infinite) ways to decompose a given function into a suitable pair of inside and outside functions.  In this case, the following decompositions work:
$BR $SPACE $BR
\( \ \ \ \ \ \ p(x) = \sqrt{x} \ \ \ \ \ \ \ \ \ \ q(x) = $b - $m x \)
$BR
\( \ \ \ \ \ \ p(x) = \sqrt{$b - x} \ \ \ \ q(x) = $m x \)
$BR
\(\ \ \ \ \ \  p(x) = \sqrt{-x} \ \ \ \ \ \ \ \ q(x) = $m x - $b \)
$BR $SPACE $BR
The other choices do not work since
$BR
if \( p(x) = $b - $m x \ \) and \( \ q(x) = \sqrt{x} \ \), then \( \ p(q(x)) = $b - $m \sqrt{x} \ne f(x) \).
$BR
if \( p(x) = \sqrt{$b + x} \ \) and \( \ q(x) = $m x \ \), then \( \ p(q(x)) = \sqrt{$b+$m x} \ne f(x) \). 
$BR
if \( p(x) = \sqrt{- $m x} \ \) and \( \ q(x) = $b + x \ \), then \( \ p(q(x)) = \sqrt{-$m x - $prod} \ne f(x) \).
$BR

END_SOLUTION

ENDDOCUMENT();