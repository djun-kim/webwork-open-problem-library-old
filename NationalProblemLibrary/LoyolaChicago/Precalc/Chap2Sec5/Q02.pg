# DESCRIPTION
# Problem from Functions Modeling Change, Connally et al., 3rd ed.
# WeBWorK problem written by Adam Spiegler, <aspiegler@luc.edu>
# ENDDESCRIPTION

## DBsubject('Precalculus')
## DBchapter('Functions')
## DBsection('Concavity')
## KEYWORDS('functions','concavity','increasing','decreasing')
## TitleText1('Functions Modeling Change')
## EditionText1('3')
## AuthorText1('Connally')
## Section1('2.5')
## Problem1('2')
## Author('Adam Spiegler')
## Institution('Loyola University Chicago')

DOCUMENT();       

loadMacros("PG.pl",
           "PGbasicmacros.pl",
           "PGchoicemacros.pl",
           "PGanswermacros.pl",
#           "PGgraphmacros.pl",
#           "extraAnswerEvaluators.pl",
#           "PGauxiliaryFunctions.pl",
"PGcourse.pl",           );
       
TEXT(beginproblem()); # standard preamble to each problem.


$showPartialCorrectAnswers = 0;

@x = (0,1,2,3,4);
@dec = (10,6,6,10,3,13,2,16);
$y[0] = random(30,20,2);
$j = random(0,1,1);
for ($i = 0; $i <=3; $i++){
    $y[1+$i] = $y[$i] - $dec[$j+2*$i] };
@ans = ("Concave Up","Concave Down");
if( $j == 0 ){$k=1} else {$k=0};

for ($i = 0; $i <= 3; $i++) {
$rate[$i] = ($y[$i+1] - $y[$i])/($x[$i+1]-$x[$i]) };

$mc = new_multiple_choice();
$mc->qa('Based on the data in the table above, the function $BITALIC f(x) $EITALIC is', $ans[$j]);
$mc->extra($ans[$k]);
$mc->makeLast('Concave Down','Neither concave up or concave down','Both concave up and concave down');


BEGIN_TEXT

Consider the table of values for the function $BITALIC f(x) $EITALIC below
$BR
\{ begintable(6) \}
\{ row( "x", @x ) \}
\{ row( "f(x)", @y ) \} 
\{ endtable() \}
$BR
$SAPCE
$BR
\{ $mc->print_q() \}
\{ $mc->print_a() \}

END_TEXT

ANS(radio_cmp($mc->correct_ans));

@reason = ("It appears that a graph of this function would be concave up because the average rate of change becomes less negative as \( t \) increases.  A function which has an increasing rate of change will have a graph which is concave up.",
"It appears that a graph of this function would be concave down because
the average rate of change becomes more negative as \( t \) increases.  A function which has an decreasing rate of change will have a graph which is concave down.");  

SOLUTION(EV3(<<'END_SOLUTION'));
$BR $SPACE $BR 
$BBOLD  SOLUTION $EBOLD
$BR 
To determine concavity we calculate the rate of change: $BR
$SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE 
\( \frac{\Delta f(t)}{\Delta t}   =  \frac{$y[1]-$y[0]}{$x[1]-$x[0]} = $rate[0] \)
$BR
$SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE 
\( \frac{\Delta f(t)}{\Delta t}   =  \frac{$y[2]-$y[1]}{$x[2]-$x[1]} = $rate[1] \)
$BR
$SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE 
\( \frac{\Delta f(t)}{\Delta t}   =  \frac{$y[3]-$y[2]}{$x[3]-$x[2]} = $rate[2] \)
$BR
$SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE 
\( \frac{\Delta f(t)}{\Delta t}   =  \frac{$y[4]-$y[3]}{$x[4]-$x[3]} = $rate[3] \)
$BR $SPACE $BR
$reason[$j]
$BR
END_SOLUTION
      
ENDDOCUMENT();   # This should be the last executable line in the problem.