# DESCRIPTION
# Problem from Functions Modeling Change, Connally et al., 3rd ed.
# WeBWorK problem written by Adam Spiegler, <aspiegler@luc.edu>
# ENDDESCRIPTION

## DBsubject('Precalculus')
## DBchapter('Functions')
## DBsection('Quadratic Functions')
## KEYWORDS('functions','concavity','quadratic','zeros')
## TitleText1('Functions Modeling Change')
## EditionText1('3')
## AuthorText1('Connally')
## Section1('2.6')
## Problem1('27')
## Author('Adam Spiegler')
## Institution('Loyola University Chicago')

DOCUMENT();       

loadMacros("PG.pl",
           "PGbasicmacros.pl",
           "PGchoicemacros.pl",
           "PGanswermacros.pl",
           "PGgraphmacros.pl",
           "extraAnswerEvaluators.pl",
           "PGauxiliaryFunctions.pl",
           "PGgraphmacros.pl"
           );
       
TEXT(beginproblem()); # standard preamble to each problem.


$showPartialCorrectAnswers = 1;

$k = non_zero_random(-8,8,1);
$pm = random(0,1,1);  # 0 - plus/up  1 - minus/down
@ans = ("Concave Up","Concave Down");
@sign = ("+","-");
$x[0] = random(-5,-1,1);
$y[0] = $k + (-1)**$pm * $x[0]**2;
$dx = 2;
for ($i = 1; $i <= 3; $i++){
      $x[$i] = $x[$i-1]+$dx;
      $y[$i] = $k + (-1)**$pm * $x[$i]**2;
      $dy[$i] = $y[$i]-$y[$i-1];
      $rate[$i] = $dy[$i]/$dx };


$mc = new_multiple_choice();
$mc->qa('d) Based your answers for the rates of change, the graph of the function $BITALIC f(x) $EITALIC is', $ans[$pm]);
$mc->makeLast('Concave Up','Concave Down','Both concave up and concave down');


BEGIN_TEXT
Question 27:
$BR $SPACE $BR
Determine the concavity of the graph of \( f(x) = $k @sign[$pm] x^2 \) between \( x= $x[0] \) and 
\( x= $x[3] \) by calculating average rates of change over intervals of length 2. 
$BR $SPACE $BR
a) The average rate of change over the interval $SPACE \( $x[0] \leq x \leq $x[1] = \) \{ ans_rule(10) \} 
$BR
$SPACE
$BR
b) The average rate of change over the interval $SPACE \( $x[1] \leq x \leq $x[2] = \) \{ ans_rule(10) \}
$BR
$SPACE
$BR
c) The average rate of change over the interval $SPACE \( $x[2] \leq x \leq $x[3] = \) \{ ans_rule(10) \}
$BR
$SPACE
$BR
\{ $mc->print_q() \}
\{ $mc->print_a() \}

END_TEXT

ANS( num_cmp($rate[1]) );
ANS( num_cmp($rate[2]) );
ANS( num_cmp($rate[3]) );
ANS(radio_cmp($mc->correct_ans));


@reason = ("The graph will be concave up since the rate of change is increasing as $BITALIC x $EITALIC increases.",
"The graph will be concave down since the rate of change is decreasing as $BITALIC x $EITALIC increases.");

SOLUTION(EV3(<<'END_SOLUTION'));
$BR $SPACE $BR 
$BBOLD  SOLUTION $EBOLD
$BR 
a) The rate of change between \( x= $x[0] \) and \( x = $x[1] \) is $BR
$SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE
\( \frac{\triangle f}{\triangle x} = \frac{$y[1] - $y[0]}{$x[1]-$x[0]}  = \frac{$dy[1]}{$dx} = $rate[1] \)
$BR $SPACE $BR
b) The rate of change between \( x= $x[1] \) and \( x = $x[2] \) is $BR
$SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE
\( \frac{\triangle f}{\triangle x} = \frac{$y[2] - $y[1]}{$x[2]-$x[1]}  = \frac{$dy[2]}{$dx} = $rate[2] \)
$BR $SPACE $BR
c) The rate of change between \( x= $x[2] \) and \( x = $x[3] \) is $BR
$SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE
\( \frac{\triangle f}{\triangle x} = \frac{$y[3] - $y[2]}{$x[3]-$x[2]}  = \frac{$dy[3]}{$dx} = $rate[3] \)
$BR $SPACE $BR
d) $reason[$pm]
$BR

END_SOLUTION
      
ENDDOCUMENT();   # This should be the last executable line in the problem.