# DESCRIPTION
# Problem from Functions Modeling Change, Connally et al., 3rd ed.
# WeBWorK problem written by Adam Spiegler, <aspiegler@luc.edu>
# ENDDESCRIPTION

## DBsubject('Precalculus')
## DBchapter('Functions')
## DBsection('Quadratic Functions')
## KEYWORDS('functions','concavity','quadratic','zeros')
## TitleText1('Functions Modeling Change')
## EditionText1('3')
## AuthorText1('Connally')
## Section1('2.6')
## Problem1('3')
## Author('Adam Spiegler and Paul Pearson')
## Institution('Loyola University Chicago and Fort Lewis College')


############################################
#  Initialization

DOCUMENT();       

loadMacros(
"PGstandard.pl",
"contextLimitedPolynomial.pl",
"AnswerFormatHelp.pl",
"weightedGrader.pl",
"PGcourse.pl",
);

install_weighted_grader();
       
TEXT(beginproblem()); 


##########################################
#  Setup

Context("LimitedPolynomial");
Context()->flags->set(singlePowers=>1);
Context()->variables->are(m=>"Real");
Context()->strings->add(none=>{},N=>{alias=>"none"});


$r = random(3,8,1);
$k = random(2,7,1);
$x = random(10,16,1);
$s = random(2,8,1);
$i = random(0,1,1);
@sign = ("+","-");

$kx = $k * $x;

if ( $i == 0 ){ 
  $answer = Compute("2 m^3 - $r m^2 + sqrt($s) m + $kx"); 
  $functiontype = "cubic";
} else { 
  $answer = Compute("-$r m^2 + sqrt($s) m + $kx");
  $functiontype = "quadratic";  
}


##########################################
#  Main text

Context()->texStrings;
BEGIN_TEXT

Simplify the function
\[ g(m) = m( m^2 - $r m ) + $k \left( $x $sign[$i] \frac{m^3}{$k} \right) + \sqrt{$s} m \] 
by expanding and combining like terms.  Simplify 
your answer as much as possible.
$BR
$BR
\( g(m) = \) 
\{ ans_rule(30) \} 
\{ AnswerFormatHelp("formula") \}
$BR
$BR
Is \( g(m) \) a constant, linear, quadratic, or cubic function, or none of these? 
\{ pop_up_list(["?","constant","linear","quadratic","cubic","none of the above"]) \}

END_TEXT
Context()->texStrings;


#############################################
#  Answer evaluation

$showPartialCorrectAnswers = 1;

WEIGHTED_ANS( $answer->cmp(), 95 );
WEIGHTED_ANS( str_cmp($functiontype), 5 );

#############################################
#  Solution

$prod = $k*$x;

@last = ("\( = 2m^3 - $r m^2 + \left( \sqrt{$s} \right) m  + $prod \)",
          "\( = - $r m^2 + \left( \sqrt{$s} \right) m  + $prod \)");

@reason = ("This function is not quadratic since there is a term with \( m^3 \).",
           "Since the \( m^3 \) terms cancel out, the funcions is quadratic with $BITALIC a $EITALIC = - $r , $BITALIC b $EITALIC = \( \sqrt{$s} \) , and $BITALIC c $EITALIC = $prod .");



SOLUTION(EV3(<<'END_SOLUTION'));
$BR $SPACE $BR 
$BBOLD  SOLUTION $EBOLD
$BR 
We distribute and simplify: $BR
$SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE 
\( g(m) = m( m^2 - $r m ) + $k ( $x $sign[$i] \frac{m^3}{$k}) + \sqrt{$s} m \)
$BR
$SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE 
\( = m^3 - $r m^2 + $prod @sign[$i] m^3 + \sqrt{$s} m \) $BR
$SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE $SPACE 
$last[$i]
$BR $SPACE $BR
$reason[$i]
$BR
END_SOLUTION

ENDDOCUMENT();