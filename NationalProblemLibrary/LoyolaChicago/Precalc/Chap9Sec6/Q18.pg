# DESCRIPTION
# Problem from Functions Modeling Change, Connally et al., 3rd ed.
# WeBWorK problem written by Adam Spiegler, <aspiegler@luc.edu>
# ENDDESCRIPTION

## DBsubject('Precalculus')
## DBchapter('Polynomial And Rational Functions')
## DBsection('Comparing Power, Exponential, And Log Functions)
## KEYWORDS('power function','exponential','log','long-run','dominate')
## TitleText1('Functions Modeling Change')
## EditionText1('3')
## AuthorText1('Connally')
## Section1('9.6)
## Problem1('18')
## Author('Adam Spiegler')
## Institution('Loyola University Chicago')

DOCUMENT();

loadMacros("PG.pl",
           "PGbasicmacros.pl",
           "PGchoicemacros.pl",
           "PGanswermacros.pl",
           "PGgraphmacros.pl",
           "extraAnswerEvaluators.pl",
           "PGauxiliaryFunctions.pl",
           "PGgraphmacros.pl"
           );

TEXT(beginproblem()); # standard preamble to each problem.

$showPartialCorrectAnswers = 1;

$dx = random(1,2,1);
$x2 = 1+$dx;
$y1 = random(4,10,2);
$mult = non_zero_random(-6,4,2)+9;
$y2 = $y1*$mult;
$dy = $y2-$y1;

$m = $dy/$dx;
$b = $y1 - $m;
$line = "$m x + $b";


$k = $y1;
$p = log($mult)/log($x2);
$rd_p = round($p*10000)/10000;

$power = "$k x^(log($mult)/log($x2))";

if ($dx == 1) {
               $almost_b = "b"; $use_b = $mult;
               $show_b = $mult;
               $a = "$y1/$mult";
               $show_a = "\frac{$y1}{$mult}"}
else{
               $almost_b = "b^2"; $use_b = sqrt($mult);
               $show_b = "\sqrt{$mult}";
               $a = "$y1/sqrt($mult)";
               $show_a = "\frac{$y1}{\sqrt{$mult}}"};

$expon = ($dx == 2 ) ? "($a)*(sqrt($mult))^x" : "($a)*($mult^x)";

BEGIN_TEXT
Question 18:
$BR $SPACE $BR
Find a possible formula for \( f(x) \) if \( \ f(1) = $y1 \ \)
and \( \ f($x2) = $y2 \ \) and:
$PAR
a) \( \ f(x) \) is a linear function.
\( \ f(x) =  \) \{ ans_rule(25) \}

$PAR
b) \( \ f(x) \) is a power function.
\( \ f(x) =  \) \{ ans_rule(25) \}

$PAR
c) \( \ f(x) \) is an exponential function.
\( \ f(x) =  \) \{ ans_rule(25) \}

END_TEXT

ANS(fun_cmp($line,vars=>'x'));
ANS(fun_cmp($power,vars=>'x'));
ANS(fun_cmp($expon,vars=>'x'));

$power = $b3**$inc;

SOLUTION(EV3(<<'END_SOLUTION'));
$BR $SPACE $BR 
$BBOLD  SOLUTION $EBOLD
$BR 
a) $SPACE If \( f(x) \) is linear, then \( \displaystyle m = \frac{$y2-$y1}{$x2-1} = \frac{$dy}{$dx} = $m \).  Also \($y1 = $m(1) + b \) and so \( b = $b \). $BR $SPACE $BR
If \( f(x) \) is linear, we therefore have \( f(x) = $m x + $b \).
$BR $SPACE $BR

b) $SPACE If \( f(x) \) is a power function, \( f(x)=k(x)^p \).  Using \( f(1)= $y1 \) to solve for \( k \), we have  \( $y1 = k(1^p) = k \).  Then to solve for \( p \) we have
$BR $SPACE $BR
\( \displaystyle \frac{f($x2)}{f(1)} = \frac{$k ($x2)^p}{$k (1)^p} =($x2)^p = \frac{$y2}{$y1}= $mult \ \ \ \mbox{so} \ \  p \ln{($x2)} = \ln{($mult)} \ \ \mbox{which gives us} \  p = \frac{\ln{($mult)}}{\ln{($x2)}} \).
$BR $SPACE $BR
If \( f(x) \) is a power function we therefore have \( \displaystyle f(x) = $k x^{\left( \frac{\ln{($mult)}}{\ln{($x2)}} \right)} \).
$BR $SPACE $BR


c) If \( f(x) \) is exponential, then 
$BR $SPACE $BR
\( \frac{$y2}{$y1} = $mult = \frac{a(b)^{$x2}}{a(b)}= $almost_b \ \mbox{so} \ b = $show_b \).
$BR $SPACE $BR
Also we have \( $y1 = a ($show_b) \) and so \( a= $show_a \).  Therefore \( f(x)= $show_a ($show_b)^x = $y1($show_b)^{(x-1)} \).
$BR
END_SOLUTION

ENDDOCUMENT();   # This should be the last executable line in the problem.
