# DESCRIPTION
# Problem from Functions Modeling Change, Connally et al., 3rd ed.
# WeBWorK problem written by Adam Spiegler, <aspiegler@luc.edu>
# ENDDESCRIPTION

## DBsubject('Precalculus')
## DBchapter('Polynomial And Rational Functions')
## DBsection('Comparing Power, Exponential, And Log Functions)
## KEYWORDS('power function','exponential','log','long-run','dominate')
## TitleText1('Functions Modeling Change')
## EditionText1('3')
## AuthorText1('Connally')
## Section1('9.6)
## Problem1('36')
## Author('Adam Spiegler')
## Institution('Loyola University Chicago')

DOCUMENT();       

loadMacros("PG.pl",
           "PGbasicmacros.pl",
           "PGchoicemacros.pl",
           "PGanswermacros.pl",
           "PGgraphmacros.pl",
           "extraAnswerEvaluators.pl",
           "PGauxiliaryFunctions.pl",
           "PGgraphmacros.pl",
           "parserPopUp.pl"
           );
       
TEXT(beginproblem()); # standard preamble to each problem.


$showPartialCorrectAnswers = 1;

@x = (-2,-1,0,1,2);

$amp = random(2,10,2);
$mid = non_zero_random(-6,6,1);


$p = random(2,4,1);
$k = random(-4,-1.5,.5);
$p_fun = "$k*x^$p";


$a = random(2,4,2);
$b = random(3,5,2);
$grow = random(-1,1,2);
if ($grow == -1){ 
        $e_fun = "(1/$a)*($b)^(-x)";
        $disp_b = "\frac{1}{$b}"}
else{
        $e_fun = "(1/$a)*($b)^x";
        $disp_b = "$b"};

for ($i = 0; $i <= 4; $i++) {
     $val[$i] = $k*$x[$i]**$p;
     $val[$i+5] = round(1/$a*$b**($x[$i]*$grow)*1000)/1000;
     $val[$i+10] = round($amp+sin($x[$i]*pi/2)+$mid)};

$val[2] = 0;


@mix = NchooseK(3,3);
@ans = ("f(x)","g(x)","h(x)");
@inv = invert(@mix);
@ans = @ans[@inv];

for ($j = 0; $j <= 4; $j++){
     $f[$j] = $val[$mix[0]*5+$j];
     $g[$j] = $val[$mix[1]*5+$j];
     $h[$j] = $val[$mix[2]*5+$j]};

$popup[0] = PopUp(["Select a function", 
        "f(x)", "g(x)", "h(x)"],
        $ans[0]);

$popup[1] = PopUp(["Select a function", 
        "f(x)", "g(x)", "h(x)"],
        $ans[1]);

$popup[2] = PopUp(["Select a function", 
        "f(x)", "g(x)", "h(x)"],
        $ans[2]);


BEGIN_TEXT
Question 36:
$BR $SPACE $BR
The table below gives approximate values for three functions, \( f \),
\( g \), and \( h \).   One is exponential, one is trigonometric, and one
is a power function. 
$BR
$BCENTER
\{ begintable(6) \}
\{ row("\(x\)", @x ) \}
\{ row("\(f(x)\)", @f ) \}
\{ row("\(g(x)\)", @g ) \}
\{ row("\(h(x)\)", @h ) \}
\{ endtable() \}
$ECENTER
$BR
a) Which function is the trigonometric function?  \{ $popup[2] -> menu() \}
$BR $SPACE $BR

b) Which function is the exponential function?  \{ $popup[1] -> menu() \} $BR
$SPACE $SPACE $SPACE Find a formula for the exponential function \( y = \) \{ ans_rule(30) \}
$BR $SPACE $BR

c) Which function is the power function?  \{ $popup[0] -> menu() \} $BR
$SPACE $SPACE $SPACE Find a formula for the power function \( y = \) \{ ans_rule(30) \}
$BR
END_TEXT

ANS( $popup[2] ->cmp() );
ANS( $popup[1] ->cmp() );
ANS( fun_cmp( $e_fun, vars=>'x' ));
ANS( $popup[0] ->cmp() );
ANS( fun_cmp( $p_fun, vars=>'x' ));


SOLUTION(EV3(<<'END_SOLUTION'));
$BR $SPACE $BR 
$BBOLD  SOLUTION $EBOLD
$BR 
a) The trigonometric function should oscillate, or in other words, the function values should move periodically back and
forth between two extremes. It seems \( $ans[2] \) best displays this
behavior.
$BR $SPACE $BR

b) The exponential function should take the form \( y= a \cdot b^x\). Since neither \( a \) nor \( b \) can be zero, the function cannot pass through the point \( (0,0) \). Therefore, \( $ans[0] \)
cannot be exponential. Try \( $ans[1] \) as the exponential function.
$BR $SPACE $BR
We using the point \( (0, $val[7]) \) we have \( $val[7] = ab^0 = a \).  Thus \( a = \frac{1}{$a} \).   Using another point such as \( (1, $val[8] ) \) we now have
$BR $SPACE $BR
\( $val[8] = ab^1 = \frac{b}{$a} \ \mbox{so} \ b = $a \cdot $val[8] = $disp_b \).
$BR $SPACE $BR
Therefore we find a possible formula for the exponential function to be \( y = \frac{1}{$a} \left( $disp_b \right)^x \).
$BR $SPACE $BR

c) The power function is left for \( $ans[0] \).  A power function takes the form \( y= k \cdot x^p \). Solving for \( k \) and \( p \),
we find  \( g(x)= $k x^{$p} \).
$BR
END_SOLUTION

ENDDOCUMENT();