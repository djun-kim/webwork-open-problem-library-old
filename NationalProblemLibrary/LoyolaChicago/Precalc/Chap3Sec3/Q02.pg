# DESCRIPTION
# Problem from Functions Modeling Change, Connally et al., 3rd ed.
# WeBWorK problem written by Adam Spiegler, <aspiegler@luc.edu>
# ENDDESCRIPTION

## DBsubject('Precalculus')
## DBchapter('Exponential Functions')
## DBsection('Graphs of  Exponential Functions')
## KEYWORDS('exponential functions','graphs of exponential functions')
## TitleText1('Functions Modeling Change')
## EditionText1('3')
## AuthorText1('Connally')
## Section1('3.3')
## Problem1('2')
## Author('Adam Spiegler and Paul Pearson')
## Institution('Loyola University Chicago and Fort Lewis College')
DOCUMENT();       

loadMacros("PG.pl",
           "PGbasicmacros.pl",
           "PGchoicemacros.pl",
           "PGanswermacros.pl",
           "PGgraphmacros.pl",
#           "extraAnswerEvaluators.pl",
#           "PGauxiliaryFunctions.pl",
#           "parserPopUp.pl",
"MathObjects.pl",
"unionTables.pl",
"PGcourse.pl",
           );
       
TEXT(beginproblem()); # standard preamble to each problem.

$refreshCachedImages=1;
$showPartialCorrectAnswers = 1;

@b = (3,4,"1/2","1/3","1/4");
$i = random(0,4,1);

if ($i <= 1){ $pick_re = 0; $ans = 0;
       for ($k = 0; $k <= 3; $k++){ $y[$k+3] = $b[$i]**$k };
       for ($k = -3 ; $k <= -1; $k++) { $denom = ($i+3)**(-$k);
                                        $y[$k+3] = "1/$denom"} }
else { $pick_re = 1; $ans = 1;
       for ($k = -3; $k <= 0; $k++){ $y[$k+3] = $i**(-$k) };
       for ($k = 1 ; $k <= 3; $k++) { $denom = $i**$k;
                                      $y[$k+3] = "1/$denom"} };

@x = (-3,-2,-1,0,1,2,3);

for($z = 0; $z <= 6; $z++) {$blank[$z] = ans_rule(10) };

$f[0] = "2^x for x in <-3,3> using color:blue and weight:2";
$f[1] = "0.5^x for x in <-3,3> using color:blue and weight:2";
$f[2] = $f[0];
$f[3] = $f[1];
$f[4] = "-(2^x) for x in <-3,3> using color:blue and weight:2";
$f[5] = "-(0.5^x) for x in <-3,3> using color:blue and weight:2";
$tick_pos = "1 for x in <-.1,.1> using color:black and weight:1";
$tick_neg = "-1 for x in <-.1,.1> using color:black and weight:1";
for ($j = 0; $j <= 3; $j++){
     $graph[$j] = init_graph(-3,-.75,3,7,'axes'=>[0,0]);
     $graph[$j]->lb('reset');
     $graph[$j]->lb(new Label(2.8,-0.6,"x",'black','right','bottom'));
     $graph[$j]->lb(new Label(-.1,6.8,"y",'black','right','top')) };
for ($j = 4; $j <= 5; $j++){
     $graph[$j] = init_graph(-3,-7,3,0.75,'axes'=>[0,0]);
     $graph[$j]->lb('reset');
     $graph[$j]->lb(new Label(2.8,0.1,"x",'black','right','bottom'));
     $graph[$j]->lb(new Label(-.1,0.6,"y",'black','right','top')) };
$graph[0]->lb(new Label(-.1,1,"1",'black','right','bottom'));
$graph[1]->lb(new Label(.1,1,"1",'black','left','bottom'));
$graph[2]->lb(new Label(-.1,1,$b[$i],'black','right','bottom'));
$graph[3]->lb(new Label(.1,1,$b[$i],'black','left','bottom'));
$graph[4]->lb(new Label(-.3,-1,"-$b[$i]",'black','right','center'));
$graph[5]->lb(new Label(.1,-1,"-1",'black','left','center'));

for ($j = 0; $j <= 3; $j++){ plot_functions( $graph[$j], $f[$j], $tick_pos) };
for ($j = 4; $j <= 5; $j++){ plot_functions( $graph[$j], $f[$j], $tick_neg) };
for ($j = 0; $j <= 5; $j++){
   $plot[$j] = image(insertGraph($graph[$j]), width => 200, height => 200,
                      tex_size => 310); 
}

@letter = ("A","B","C","D","E","F");
@perm = shuffle(6);
@plot = @plot[@perm];
@inv = invert(@perm);
@letter = @letter[@inv];

#$popup = PopUp(["Choose One", 
#        "A", "B", "C", "D", "E", "F", "None"],$letter[$ans]);

@reason = ("For large positive values of $BITALIC x${EITALIC}, $BITALIC f(x) $EITALIC climbs rapidly away from the $BITALIC x${EITALIC}-axis. But for large negative values of $BITALIC x${EITALIC}, $BITALIC f(x) $EITALIC is close to the $BITALIC x${EITALIC}-axis.",

"For large positive values of $BITALIC x${EITALIC}, $BITALIC f(x) $EITALIC is close to the $BITALIC x${EITALIC}-axis. But for large negative values of $BITALIC x${EITALIC}, $BITALIC f(x) $EITALIC climbs rapidly away from the $BITALIC x${EITALIC}-axis.");

BEGIN_TEXT
Consider the function \( f(x) = \left( $b[$i] \right)^x \).
$BR
$BR
(a) Complete the table of values of \( f(x) \) for \( x = -3,-2,-1,0,1, 2, 3 \). 
$BR
$BCENTER
\{ begintable(8) \}
\{ row( "$SPACE $SPACE x $SPACE $SPACE ", @x ) \}
\{ row( "$SPACE $SPACE f(x) $SPACE $SPACE ", @blank ) \}
\{ endtable() \}
$ECENTER
$BR $SPACE $BR
(b) Which of the graphs below could represent the graph of \( f(x) \)? 
\{ pop_up_list(["?","A","B","C","D","E","F"]) \}
$BR
$BR
$BCENTER
\{
BeginTable().
  AlignedRow([$plot[0],$plot[1],$plot[2]]).
  TableSpace(5,0).
  AlignedRow(["A","B","C"]).
  TableSpace(25,6).
  AlignedRow([$plot[3],$plot[4],$plot[5]]).
  TableSpace(5,0).
  AlignedRow(["D","E","F"]).
EndTable();
\}
$BR
(Click on a graph to enlarge it.)
$ECENTER

END_TEXT

for $i (0..6) { ANS( Compute("$y[$i]")->cmp() ); }
ANS( str_cmp($letter[$ans]));

#ANS( num_cmp( $y[0]) );
#ANS( num_cmp( $y[1]) );
#ANS( num_cmp( $y[2]) );
#ANS( num_cmp( $y[3]) );
#ANS( num_cmp( $y[4]) );
#ANS( num_cmp( $y[5]) );
#ANS( num_cmp( $y[6]) );
#ANS( str_cmp($letter[$ans]));


SOLUTION(EV3(<<'END_SOLUTION'));
$BR $SPACE $BR 
$BBOLD  SOLUTION $EBOLD
$BR
a) The table of values is completed below:
$BR
\{ begintable(8) \}
\{ row( "$SPACE $SPACE x $SPACE $SPACE ", @x ) \}
\{ row( "$SPACE $SPACE f(x) $SPACE $SPACE ", @y ) \}
\{ endtable() \}
$BR $SPACE $BR
c) $reason[$pick_re]  Therefore graph $letter[$ans] represents the graph of \( f(x) \).
$BR
END_SOLUTION


COMMENT('MathObject version');
ENDDOCUMENT();