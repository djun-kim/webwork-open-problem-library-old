## DESCRIPTION
## Problem from Functions Modeling Change, Connally, et al., 3rd ed.
## WeBWorK problem written by Adam Spiegler <aspiegler@luc.edu>
## ENDDESCRIPTION

## DBsubject('Precalculus')
## DBchapter('Linear Functions and Change')
## DBsection('Review')
## KEYWORDS('lines','linear functions','slope-intercept','point-slope form')
## TitleText1('Functions Modeling Change')
## EditionText1('3')
## AuthorText1('Connally')
## Section1('Review')
## Problem1('37')
## Author('Adam Spiegler')
## Institution('Loyola University Chicago')
DOCUMENT();       

loadMacros("PG.pl",
           "PGbasicmacros.pl",
           "PGchoicemacros.pl",
           "PGanswermacros.pl",
           "PGgraphmacros.pl",
           "PGauxiliaryFunctions.pl",
           "PGgraphmacros.pl"
           );
       
TEXT(beginproblem()); # standard preamble to each problem.


$showPartialCorrectAnswers = 1;

HEADER_TEXT(<<EOF);
<script language="javascript" type="text/javascript">
<!-- //
function unitspopup() {
    var url = "/webwork2_files/units.html";
    var opt = "height=625,width=600,location=no,menubar=no,status=no" +
              "resizable=yes,scrollbars=yes,toolbar=no,";
    window.open(url,'examdata_info',opt).focus();
}
// -->
</script>
EOF

$f = "20+10*(1.0015)^(-(x-55)^2) for x in <0,100> using color:blue and weight:2";

$graph = init_graph(-10,-10,110,50,'axes'=>[0,0],'grid'=>[12,6]);
$graph->lb('reset');
for ($x = 1; $x <=10; $x++){
          $graph->lb(new Label($x*10-2,-1,$x*10,'black','left','top')) };
for ($y = 1; $y <=4; $y++){
      $graph->lb(new Label(-2,10*$y+1,$y*10,'black','right','top')) };

$graph->lb(new Label(-6,48,"g (mpg)",'black','left','top'));
$graph->lb(new Label(48,-5,"v (mph)",'black','left','top'));
plot_functions( $graph, $f);

$mile_a = random(400,600,100);
$v0 = random(40,80,10);
$g0 = round(20+10*(1.0015)**(-($v0-55)**2));
$gas_a = round($mile_a/$g0*10)/10;

$mile_b = random(300,600,100);
$g_60 = round(20+10*(1.0015)**(-(60-55)**2));
$g_70 = round(20+10*(1.0015)**(-(70-55)**2));
$gas_60 = $mile_b/$g_60;
$gas_70 = $mile_b/$g_70;
$diff = round( ($gas_70 - $gas_60)*10 )/10;

BEGIN_TEXT
Question 37:
$BR $SPACE $BR
The graph below shows the fuel consumption (in miles per gallon, mpg) of a car driving at various speeds (in miles per hour, mph).
$BR
$BCENTER
\{ image(insertGraph($graph),width=>200,height=>150, tex_size=>700) \}
$BR
(click on image to enlarge) $ECENTER
$BR
a)  How much gas is used on a $mile_a mile trip at $v0 mph? $BR
$SPACE $SPACE $SPACE $SPACE $SPACE $SPACE \{ ans_rule(20) \} gallons $SPACE (round answer to one decimal place)
$BR $SPACE $BR
b) How much gas is saved by traveling 60 mph instead of 70 mph on a $mile_b mile trip?  $BR
$SPACE $SPACE $SPACE $SPACE $SPACE $SPACE \{ ans_rule(20) \} gallons $SPACE (round answer to one decimal place) 
$BR $SPACE $BR
c) According to this graph, what is the most fuel efficient speed to travel?  $BR
$SPACE $SPACE $SPACE $SPACE $SPACE $SPACE \{ ans_rule(20) \} mph 

END_TEXT
ANS(num_cmp( $gas_a,tol=>2));
ANS(num_cmp( $diff,tol=>1.5));
ANS(num_cmp( 55,tol=>2.1));


$round_60 = round($gas_60*10)/10;
$round_70 = round($gas_70*10)/10;

SOLUTION(EV3(<<'END_SOLUTION'));
$BR $SPACE $BR
$BBOLD SOLUTION $EBOLD
$BR
a) At $v0 mph, fuel consumption is about $g0 mpg, so fuel used is \( $mile_a  / $g0 \approx $gas_a \ \mbox{gallons} \).
$BR $SPACE $BR
b) At 60 mph, fuel consumption is about $g_60 mpg, so fuel used on a $mile_b mile trip is \( $mile_b  / $g_60 \approx $round_60 \ \mbox{gallons} \) $SPACE . At 70 mph, fuel consumption is about $g_70 mpg, so fuel used on this trip is \( $mile_b  / $g_70 \approx $round_70 \ \mbox{gallons} \) $SPACE .  Altogether we would then save \( $round_70 - $round_60 \approx $diff \ \mbox{gallons} \).
$BR $SPACE $BR
c) The most fuel efficient speed is where mpg is a maximum, which is about 55 mph.
$BR
END_SOLUTION
ENDDOCUMENT();   # This should be the last executable line in the problem.