# DESCRIPTION
# Problem from Functions Modeling Change, Connally et al., 3rd ed.
# WeBWorK problem written by Adam Spiegler, <aspiegler@luc.edu>
# ENDDESCRIPTION

## DBsubject('Precalculus')
## DBchapter('Compositions, Inverses, And Combinations Of Functions')
## DBsection('Inverse Functions)
## KEYWORDS('inverse','function','inverse function')
## TitleText1('Functions Modeling Change')
## EditionText1('3')
## AuthorText1('Connally')
## Section1('8.2')
## Problem1('42')
## Author('Adam Spiegler')
## Institution('Loyola University Chicago')

DOCUMENT();       

loadMacros("PG.pl",
           "PGbasicmacros.pl",
           "PGchoicemacros.pl",
           "PGanswermacros.pl",
           "PGgraphmacros.pl",
           "PGauxiliaryFunctions.pl",
           "extraAnswerEvaluators.pl"
           );
       
TEXT(beginproblem()); # standard preamble to each problem.


$showPartialCorrectAnswers = 1;

$m = random(2,18,1);
$i = random(0,1,1);  # 0 is exp and 1 is ln

if ($i == 0) {$eqn = "e^x";
              $ans1 = "-log($m)";
              $ans2 = "e**$m";
              $ans3 = "1/log($m)"}
    else {$eqn = "\ln{(x)}";
          $ans1 = "e**(1/$m)";
          $ans2 = "log($m)";
          $ans3 = "e**(-$m)"};

BEGIN_TEXT
Question 42:
$BR
$SPACE
$BR
Let \( f(x) = $eqn \).  Solve each of the following equations $BBOLD exactly $EBOLD for \( x \).  Do NOT approximate your answers.
$BR $SPACE $BR
a) \( \ \ \bigg( f(x) \bigg)^{-1} = $m \) \( \ \ \ \ \ x = \) \{ ans_rule(30) \}
$BR $SPACE $BR
b) \( \ \ f^{-1}(x) = $m \) \( \ \ \ \ \ x = \) \{ ans_rule(30) \}
$BR $SPACE $BR
c) \( \ \ f \big( x^{-1} \big) = $m \) \( \ \ \ \ \ x = \) \{ ans_rule(30) \}
$BR
END_TEXT

ANS( num_cmp( $ans1, tol=>"0.0000000001" ) );
ANS( num_cmp( $ans2, tol=>"0.0000000001" ) );
ANS( num_cmp( $ans3, tol=>"0.0000000001" ) );

if ($i == 0){
             $explain1 = "Since \( \left( f(x) \right)^{-1} = \frac{1}{f(x)} = e^{-x}\), this equation is equivalent to \( e^{-x}= $m \).  Taking the natural logarithm of both sides, we obtain \( -x = \ln{($m)} \), so the solution is \( x = - \ln{($m)} \).";
             $explain2 = "Since the inverse function of \( e^x \) is given by \( f^{-1}(x) = \ln{(x)} \), this equation is equivalent to \( \ln{(x)} = $m \).  Taking the exponential function of both sides, we obtain a solution of \( x = e^{$m} \).";
             $explain3 = "This equation is equivalent to \( e^{1/x} = $m \).  Taking the natural logarithm of both sides, we obtain \( \frac{1}{x} = \ln{$m} \), so the final answer is given by \( x = \frac{1}{\ln{($m)}} \)."}
##############
   else {
$explain1 = "Since \( \left( f(x) \right)^{-1} = \frac{1}{f(x)} = \frac{1}{\ln{(x)}} \), this equation is equivalent to \( \frac{1}{\ln{(x)}} = $m \) or \( \ln{(x)} = \frac{1}{$m} \).  Taking the exponential of both sides, we obtain \( x = e^{1/$m} \), so the solution is \( x = e^{1/$m} \).";
             $explain2 = "Since the inverse function of \( \ln{(x)} \) is given by \( f^{-1}(x) = e^x \), this equation is equivalent to \( e^x = $m \).  Taking the natural logarithm of both sides, we obtain a solution of \( x = \ln{($m)} \).";
             $explain3 = "This equation is equivalent to \( \ln{(1/x)} = $m \).  Taking the exponential of both sides, we obtain \( \frac{1}{x} = e^{$m} \), so the final answer is given by \( x = e^{-$m} \)."}

SOLUTION(EV3(<<'END_SOLUTION'));
$BR $SPACE $BR 
$BBOLD  SOLUTION $EBOLD
$BR 
a) $explain1
$BR $SPACE $BR
b) $explain2
$BR $SPACE $BR
c) $explain3
$BR
END_SOLUTION

ENDDOCUMENT();