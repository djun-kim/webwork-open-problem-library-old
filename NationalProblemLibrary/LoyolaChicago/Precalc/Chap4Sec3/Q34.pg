# DESCRIPTION
# Problem from Functions Modeling Change, Connally et al., 3rd ed.
# WeBWorK problem written by Adam Spiegler, <aspiegler@luc.edu>
# ENDDESCRIPTION

## DBsubject('Precalculus')
## DBchapter('Logarithmic Functions')
## DBsection('The Logarithmic Functions')
## KEYWORDS('logarithms','log','ln','asymptote','graph of logarithms')
## TitleText1('Functions Modeling Change')
## EditionText1('3')
## AuthorText1('Connally')
## Section1('4.3')
## Problem1('34')
## Author('Adam Spiegler')
## Institution('Loyola University Chicago')

DOCUMENT();

loadMacros("PG.pl",
           "PGbasicmacros.pl",
           "PGchoicemacros.pl",
           "PGanswermacros.pl",
           "PGgraphmacros.pl",
           "extraAnswerEvaluators.pl",
           "PGauxiliaryFunctions.pl",
           "PGgraphmacros.pl"
           );
       
TEXT(beginproblem()); # standard preamble to each problem.


$showPartialCorrectAnswers = 1;

$amt = random(2.2,2.8,0.1);
$oz = random(2,5,1);

$ans1 = "10^(-$amt)";
$approx1 = round(10**(-$amt)*100000)/100000;
$oz2liter = round($oz/30.3*1000)/1000;
$almost = round($approx1*$oz2liter*1000000)/1000000;
for ($i = 0; $i >= -10; $i--) {
    if ($almost > 10**($i)) {$p = $i; $i = -10 }};
$sci = $almost*10**(-$p);

if ($sci*6.02 > 10) {$final_sci = $sci*6.02/10; $final_p = 23+$p+1}
  else {$final_sci = $sci*6.02; $final_p = 23+$p};
$final = "$final_sci * 10**($final_p)";

BEGIN_TEXT

The pH of lemon juice is about $amt.
$PAR

(a) What is the concentration of hydrogen ions in lemon juice?
(round to at least 4 decimal places)$BR
The concentration is \{ ans_rule(20) \} moles per liter.
[Hint: pH = \( \scriptstyle -\log{ \lbrack H^+ \rbrack } \) ]
$PAR

(b) A person squeezes $oz oz of lemon juice into a cup. Based on your
answer to part (a), how many hydrogen ions does this juice contain?
Your answer should be a very large number, so in order to fit your
answer in the box, you should use scientific notation.  For example
you could enter \( 2.45 \times 10^{18} \) by entering
$BBOLD 2.45 * 10$CARET(18) $EBOLD instead of 2,450,000,000,000,000,000.
$PAR
Number of ions: \{ ans_rule(20) \} ions.
[Hint: 1 liter = 30.3 ounces, and one mole of Hydrogen ions is
\(6.02\times 10^{23}\) Hydrogen ions.  Note that the concentration
you found in (a) is given in moles per liter.] $BR

END_TEXT

ANS(num_cmp($approx1,tol=>0.00005));
ANS(num_cmp($final,relTol=>5));

SOLUTION(EV3(<<'END_SOLUTION'));
$BR $SPACE $BR 
$BBOLD  SOLUTION $EBOLD
$BR 
a) We know, by the definition of pH, that
\( $amt =-\log{ \lbrack H^+ \rbrack } \). 
Therefore, \( -$amt = \log{ \lbrack H^+ \rbrack } \),
and \( 10^{-$amt}= \lbrack H^+ \rbrack \).
$PAR
Thus, the hydrogen ion concentration is \( 10^{-$amt} \approx $approx1 \)
moles per liter.
$PAR
b) From part (a) we know that 1 liter of lemon juice contains
$approx1 moles of \( H^+ \) ions. To find out how many \( H^+ \)
ions our lemon juice has, we need to convert ounces of juice to
liters of juice and moles of ions to numbers of ions. We have
\[ $oz \mbox{ oz} \times \frac{1}{30.3} \frac{\mbox{liters}}{\mbox{oz}} =
$oz2liter \mbox{ liters.}
\]
We see now that
\[ $oz2liter \mbox{ liters} \times $approx1 \mbox{ moles per liter} =
  $sci \times 10^{$p} \mbox{ moles} \]
$PAR
There are \( 6.02 \times 10^{23} \) ions in one mole, and so there are $BR
\[ \left( $sci \times 10^{$p} \mbox{ \ moles} \right) \times
    \left( 6.02 \times 10^{23} \mbox{ \ ions per mole} \right)
  = $final_sci \times 10^{$final_p}  \mbox{ \ ions.} \]

END_SOLUTION
      
ENDDOCUMENT();   # This should be the last executable line in the problem.
