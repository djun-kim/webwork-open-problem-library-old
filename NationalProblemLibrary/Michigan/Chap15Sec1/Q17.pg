# DESCRIPTION
# Problem from Calculus, multi-variable, Hughes-Hallett et al.,
# originally from 5ed (with updates)
# WeBWorK problem written by Gavin LaRose, <glarose@umich.edu>
# ENDDESCRIPTION

## KEYWORDS('extrema', 'multivariable', 'functions', 'calculus', 'derivatives')
## Tagged by glr 01/11/10


## DBsubject('Calculus')
## DBchapter('Partial Derivatives')
## DBsection('Maximum and Minimum Values')
## Date('')
## Author('Gavin LaRose')
## Institution('University of Michigan')
## TitleText1('Calculus')
## EditionText1('5')
## AuthorText1('Hughes-Hallett')
## Section1('15.1')
## Problem1('17')

## Textbook tags
## HHChapter1('Optimization: Local and Global Extrema')
## HHSection1('Local Extrema')

DOCUMENT();

loadMacros(
"PGstandard.pl",
"PGchoicemacros.pl",
"MathObjects.pl",
# "parserNumberWithUnits.pl",
# "parserFormulaWithUnits.pl", 
# "parserFormulaUpToConstant.pl",
# "PGcourse.pl",
);

Context("Numeric");
Context()->variables->add( y=>'Real' );
$showPartialCorrectAnswers = 1;

$m = random(1,5,1);
$y0 = 2*$m;

$p = random(0.5,3.5,0.5);
$p = 1 if ( $p == 2 );  # (p=2 gives x0 = A = 0, and D = 0)
$A = Compute( "-$p" );
$x0 = $p*$m;

$f0 = $x0*$x0 - $p*$x0*$y0 + $y0*$y0;
$z0 = int( $f0 ) + random(1,5,1);
$B = Compute( $z0 - $f0 );

if ( $p > 2 ) {
    $ptType = "saddle point";
    $relate = "<";
    $cond   = "";
    $extra  = "";
} else {
    $ptType = "minimum";
    $relate = ">";
    $cond   = " (and \(f_{xx} > 0\))";
    $extra  = " and \(f_{xx} = 2 > 0\), ";
}

Context()->texStrings;
TEXT(beginproblem());
BEGIN_TEXT

Find \( A \) and \( B \) so that
\( f(x,y) = x^2 + A x y + y^2 + B \) has a $ptType at the point
\(($x0, $y0)\), with \(z\)-coordinate $z0.

$PAR
\( A = \) \{ ans_rule(35) \} $BR
\( B = \) \{ ans_rule(35) \}

END_TEXT
Context()->normalStrings;

ANS( $A->cmp() );
ANS( $B->cmp() );

$twox0 = 2*$x0;
$twoy0 = 2*$y0;
$ax0 = $A*$x0;
$d = 4 - $A*$A;
$a = abs($A);
$ad = ( $a == 1 ) ? '' : $a;

Context()->texStrings;
SOLUTION(EV3(<<'END_SOLUTION'));
$PAR SOLUTION $PAR

At the critical point \(x=$x0\), \(y=$y0\),
\[ f_x = 2x + Ay = $twox0 + $y0 A = 0, \]
so that \( A = $A \).  Then
\[ f_y = Ax + 2y = $ax0 + $twoy0 = 0, \]
as it must.

$PAR
Then, for this to be a $ptType, we must have \(D $relate 0\)$cond.
\( f_{xx} = 2 \), \( f_{yy} = 2 \), and \( f_{xy} = A = $A \), so
\[ D = 4 - A^2 = $d $relate 0, \]
$extra so this is a $ptType.

$PAR
We therefore have \( f(x,y) = x^2 - $ad xy + y^2 + B\).  Then
\[ f($x0,$y0) = $x0^2 - $ad($x0\cdot $y0) + $y0^2 + B
    = $f0 + B = $z0, \]
so \(B = $B\).

END_SOLUTION
Context()->normalStrings;


COMMENT('MathObject version');
ENDDOCUMENT();
