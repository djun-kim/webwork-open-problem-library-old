# DESCRIPTION
# Problem from Calculus, single variable, Hughes-Hallett et al., 4th ed.
# WeBWorK problem written by Gavin LaRose, <glarose@umich.edu>
# ENDDESCRIPTION

## KEYWORDS('calculus', 'integral', 'improper', 'infinite', 'definite integrals', 'comparison test')
## Tagged by glr 02/08/09

## DBsubject('Calculus')
## DBchapter('Techniques of Integration')
## DBsection('Improper Integrals')
## Date('')
## Author('Gavin LaRose')
## Institution('University of Michigan')
## TitleText1('Calculus')
## EditionText1('4')
## AuthorText1('Hughes-Hallett')
## Section1('7.8')
## Problem1('30')

## Textbook tags
## HHChapter('Integration')
## HHSection('Comparison of Improper Integrals')

DOCUMENT();
loadMacros(
"PG.pl",
"PGbasicmacros.pl",
"PGchoicemacros.pl",
"PGanswermacros.pl",
"PGauxiliaryFunctions.pl",
"parserPopUp.pl",
);

$pop1 = PopUp( [ "?", ">", ">=", "<", "<=", "=" ], 
	       ">" );
$pop2 = PopUp( [ "?", ">", ">=", "<", "<=", "=" ], 
	       "<" );

Context("Numeric");

TEXT(beginproblem());
$showPartialCorrectAnswers = 1;

Context()->texStrings;
BEGIN_TEXT

Determine which values of \(p\) the following integrals converge.
Give your answer in each case by selecting the appropriate inequality
and then entering a numerical value in the box to
define a range of \(p\) values for which the integral converges.  If
the integral never converges, select ${BBOLD}=$EBOLD and enter 
${BBOLD}none$EBOLD for the numerical value. 

$PAR
${BBOLD}A.$EBOLD
\( \int_2^\infty\,{dx\over x(\ln(x))^p} \) : 
\( p \) \{ $pop1->menu() \} \{ ans_rule(4) \}

$PAR
${BBOLD}B.$EBOLD
\( \int_1^2\,{dx\over x(\ln(x))^p} \) : 
\( p \) \{ $pop2->menu() \} \{ ans_rule(4) \}

END_TEXT
Context()->normalStrings;

ANS( $pop1->cmp() );
ANS( num_cmp( 1, 'strings'=>['none'] ) );
ANS( $pop2->cmp() );
ANS( num_cmp( 1, 'strings'=>['none'] ) );

Context()->texStrings;
SOLUTION(EV3(<<'END_SOLUTION'));
$PAR SOLUTION $PAR

${BBOLD}A.$EBOLD
It is difficult to find a precise comparison function for this,
because \(\ln x\) grows so slowly.  Certainly if \(p \le 0\) then
\({1\over x(\ln(x))^p} \ge {1\over x}\), so the integral diverges.  If
\(p>0\), then \({1\over x(\ln(x))^p} < {1\over x}\), but remains
greater than \({1\over x^{r}}\) for \(r > 2\), so convergence remains
undetermined.  However, we can integrate this by using the
substitution \(w = \ln(x)\): 
\[
\int {dx\over x(\ln(x))^p} = \int {dw\over w^p}.
\]
If \(p \ne 1\), then 
\[
\int {dx\over x(\ln(x))^p} = \int {dw\over w^p} = {1\over 1-p}
\ln(x)^{1-p} + C,
\]
so that 
\[ 
\int_2^\infty {dx\over x(\ln(x))^p} = 
  \lim\limits_{b\to\infty} {1\over 1-p}(\ln(b)^{1-p} - \ln(2)^{1-p}).
\]
Thus, if \(p < 1\) the first term grows as \(b\to\infty\), while if
\(p > 1\) it goes to zero.  If \(p = 1\), the integal is
\[
\int_2^\infty {dx\over x(\ln(x))} = 
  \lim\limits_{b\to\infty} (\ln(\ln(b)) - \ln(\ln(2))),
\]
which diverges.  Thus the integral converges only if \(p > 1\).

$PAR
${BBOLD}B.$EBOLD
This case is similar, but the singularity is now at \(x=1\).  Using
the antiderivatives we found above, we have, if \(p = 1\), 
\[
\int_1^2 {dx\over x(\ln(x))^p} = 
  \lim\limits_{a\to1^+} (\ln(\ln 2) - \ln(\ln a)),
\] 
and if \(p \ne 1\), 
\[
\int_1^2 {dx\over x(\ln(x))^p} = 
  \lim\limits_{a\to1^+} {1\over 1-p}(\ln(2)^{1-p} - \ln(a)^{1-p}).
\] 
Thus, if \(p \ge 1\) the second term in the limit diverges, and if 
\(p < 1\) it goes to zero, allowing the integral to converge.  Thus
the integral converges only if \(p < 1\).


END_SOLUTION
Context()->normalStrings;

ENDDOCUMENT();
