# DESCRIPTION
# Problem from Calculus, single variable, Hughes-Hallett et al., 4th ed.
# WeBWorK problem written by Aaron Wooton, <wootton@up.edu>
# ENDDESCRIPTION

DOCUMENT();
loadMacros(
           "PGbasicmacros.pl",
           "PGchoicemacros.pl",
           "PGanswermacros.pl",
           "PGgraphmacros.pl"
);
          
TEXT(beginproblem());
$showPartialCorrectAnswers = 0;

$graph = init_graph(-1,-12,8,12,'axes'=>[0,0],'grid'=>[9,12]);

@colors = ("blue", "red", "green"); #orange, yellow,
@scrambled_colors = @colors;
@labels = ('A', 'B', 'C');
@scrambled_labels = @labels;
  
$a=non_zero_random(-2, 2, 1);
$b=random(-2, 2, 1);
$c=non_zero_random(-2, 2, 1);
if ($a>0 and $b>-1 or $a<0 and $b<0) {
	$soln1='away from';
} else {
	$soln1='toward';
}

if ($c>0 and $a *3 +$b >-1 or $c<0 and $a *3 +$b <0) {
	$soln2='away from';
} else {
	$soln2='toward';
}

if ($a>0) {
	$a1=$a;
} else {
	$a1=- $a;
}

if ($b>0) {
	$b1=$b;
} else {
	$b1=-$b;
}

if ($c>0) {
	$c1=$c;
} else {
	$c1=-$c;
}

if ($a *3 +$b +2* $c>0) {
	$d=$a *3 +$b +2* $c;
} else {
	$d=-($a *3 +$b +2* $c);
}



$f = FEQ(
       "$b +$a *x for x in <0,3> using color:$scrambled_colors[0] and weight:2"
);
$fp = FEQ(
      "$b +$a *3 for x in <3,6> using color=$scrambled_colors[1] and weight:2"
);
     $fpp = FEQ( "$a *3 +$b +$c *(x-6) for x in <6,8> using color=$scrambled_colors[2] and weight=2"
);

($fRef,$fpRef,$fppRef) = plot_functions( $graph,
                                       $f,$fp,$fpp
                                       );

$graph->gifName($graph->gifName()."-$newProblemSeed");

BEGIN_TEXT
\{ image(insertGraph($graph),'tex_size'=>500) \} 
$PAR
The graph above illustrates your north-south distance in miles from 
the edge of a lake in hours from noon (where positive values mean 
you are north of the lake). When the graph passes through the axis, 
it means you pass by the edge of the lake (so your distance is \(0\)). 
Fill in the blanks for describing your journey using the terms "away 
from" or "toward" when describing your motion relative to the edge 
of the lake. 
$PAR
"At noon I am a distance of \{ans_rule(20)\} miles from the lake 
relaxing. I then jump on my bike and start to cycle 
\{ans_rule( 30) \} the lake at a speed of \{ans_rule( 30) \} mph. 
At 3pm I stop for a rest and a picnic for three hours. 
I then jump back on my bike and cycle \{ans_rule( 30) \} the lake 
at a speed of \{ans_rule( 30) \} mph. At 8pm I arrive at my house 
which is a distance of \{ans_rule( 30) \} miles from the lake."

END_TEXT
&ANS(std_num_cmp($b1));
&ANS(std_num_str_cmp($soln1, ['away from', 'toward']));
&ANS(std_num_cmp($a1));
&ANS(std_num_str_cmp($soln2, ['away from', 'toward']));
&ANS(std_num_cmp($c1));
&ANS(std_num_cmp($d));

SOLUTION(EV3(<<'END_SOLUTION'));
$PAR SOLUTION $PAR
Since the graph measures the distance between you and the lake, your 
initial distance is the absolute value of the vertical intercept, so 
\($b1\) miles. Initially, because the graph is moving $soln1 the 
x-axis, you are cycling $soln1  the lake. The speed you are travelling 
is equal to the absolute value of the slope of the distance graph, 
so \($a1 \) mph. After the picnic, since the graph is moving $soln2 
the x-axis, you are cycling $soln2 the lake at a speed of 
\($c1 \) mph (the absolute value of the slope). You arrive at your 
house at 8pm, so the distance of your house to the lake will be the 
absolute value of the distance function at that time, so \($d \) miles.

END_SOLUTION



ENDDOCUMENT();



