# DESCRIPTION
# Problem from Calculus, single variable, Hughes-Hallett et al., 4th ed.
# WeBWorK problem written by Gavin LaRose, <glarose@umich.edu>
# ENDDESCRIPTION

## KEYWORDS('calculus','derivative')
## Tagged by cmd6a 09/05/07

## DBsubject('Calculus')
## DBchapter('Differentiation')
## DBsection('Linear Approximation and Differentials')
## Date('')
## Author('Gavin LaRose')
## Institution('University of Michigan')
## TitleText1('Calculus')
## EditionText1('4')
## AuthorText1('Hughes-Hallett')
## Section1('3.9')
## Problem1('')

DOCUMENT();
loadMacros(
"PG.pl",
"PGbasicmacros.pl",
"PGchoicemacros.pl",
"PGanswermacros.pl",
"PGauxiliaryFunctions.pl",
);
 
TEXT(&beginproblem);
$showPartialCorrectAnswers = 1;

$a = random(1,3,1);
$fa = 4*$a;
$ad = ( $a == 1) ? '' : $a;
$whichfunc = random(0,2,1);

if ( $whichfunc == 0 ) {
    $g = "\sin $ad x";
    $l = "$ad x";
    $gr = 'figQ07a.png';
    $lim = ($a == 1) ? "1" : "\frac{1}{$a}";
    $ans = 0.2;
    $ou = 'over';
# for the solution
    $where = 'either endpoint of the interval';
    $xval = '\pm 1';
    $gend = "\sin(1)";
    $diff = 0.1585;
} elsif ( $whichfunc == 1 )  {
    $g = "e^{$ad x} - 1";
    $l = "$ad x";
    $gr = 'figQ07b.png';
    $lim = ($a == 1) ? "1" : "\frac{1}{$a}";
    $ans = 0.7;
    $ou = 'under';
# for the solution
    $where = 'the right endpoint of the interval';
    $xval = ($a == 1) ? "1" : "\frac{1}{$a}";
    $gend = "e^1";
    $diff = 0.71828;
} else {
    $g = "$ad \sqrt{16 + 8x} - $fa";
    $l = "$ad x";
    $gr = 'figQ07c.png';
    $lim = 1;
    $ans = round(10*0.17*$a)/10;
    $ou = 'over';
# for the solution
    $where = 'the left endpoint of the interval';
    $xval = '-1';
    $gend = "($ad \sqrt{8} - $fa)";
    $diff = .17157*$a;
}

$img = image( $gr, 'tex_size'=>450 );

BEGIN_TEXT

Using a calculator or computer, generate a graph like the one shown
below by graphing \(y = $g\) and \(y = $l\) for 
\( -$lim\le x\le $lim \).  (What is the relationship between 
\(y = $g\) and \(y = $l\)?)
$PAR
$BCENTER
$img
$BR
${BITALIC}(Click on the graph to get a larger version.)$EITALIC
$ECENTER

$PAR
Use your graph to estimate to one decimal place
the (largest) magnitude of the error in approximating 
\( $g \) by \( $l \) for \( -$lim\le x\le $lim \).  
$BR
error \( \approx \) \{ ans_rule(35) \}
$BR
Is the approximation an over- or an underestimate when \( x \gt 0 \)?
(Enter ${BBOLD}over$EBOLD, or ${BBOLD}under$EBOLD.)
\{ ans_rule(35) \}

END_TEXT


ANS( num_cmp( $ans, 'mode'=>'strict', 'tol'=>0.05 ) );
ANS( str_cmp( $ou ) );

SOLUTION(EV3(<<'END_SOLUTION'));
$PAR SOLUTION $PAR

From the figure, we see that the error has its maximum
magnitude at $where, \( x= $xval \).  The magnitude
of the error can be read off a graph of the function and 
tangent line (that is, a graph with somewhat greater resolution
than the given figure) as about $ans, or can be estimated
as
\[
|\hbox{Error}| \le |$ad($xval) - $gend| = $diff \approx $ans.
\]
The approximation is an ${ou}estimate at \(x = $xval\).

END_SOLUTION

ENDDOCUMENT();
