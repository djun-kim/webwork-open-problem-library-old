# DESCRIPTION
# Problem from Calculus, single variable, Hughes-Hallett et al., 4th ed.
# WeBWorK problem written by Gavin LaRose, <glarose@umich.edu>
# ENDDESCRIPTION

## KEYWORDS('calculus','derivative')
## Tagged by cmd6a 09/05/07

## DBsubject('Calculus')
## DBchapter('Differentiation')
## DBsection('Linear Approximation and Differentials')
## Date('')
## Author('Gavin LaRose')
## Institution('University of Michigan')
## TitleText1('Calculus: Single and Multivariable')
## EditionText1('4')
## AuthorText1('Hughes-Hallett')
## Section1('3.9')
## Problem1('')

DOCUMENT();
loadMacros(
"PG.pl",
"PGbasicmacros.pl",
"PGchoicemacros.pl",
"PGanswermacros.pl",
"PGauxiliaryFunctions.pl",
"PGgraphmacros.pl",
);
 
TEXT(&beginproblem);
$showPartialCorrectAnswers = 1;

# build a graph
$graph = init_graph(-1,-1,2,3, 'grid'=>[6,4], 'axes'=>[0,0]);
$graph->lb('reset');
# $graph->fn('erase');
$f = "e^(2*x^2-2*x) for x in [0,1.39] using color:black and weight:2";
$g = "2*x-1 for x in [0.5,2] using color:blue and weight:2";
add_functions( $graph, $f, $g);

# now add some custom labels
$a = random(1,5,1);
$m = random(2,5,1);
$a2 = $a + $m;
$b = random(1,5,1);
#$l1 = new Label(1,0,$a,'black','bottom','middle');
#$l2 = new Label(1,0,$a2,'black','bottom','middle');
$graph->lb( new Label(0.95,-0.15,$a,'black','center','bottom') );
$graph->lb( new Label(1.95,-0.15,$a2,'black','center','bottom') );

$c = $a + random(0.1,0.7,0.1);
$est = $m*$c - $b;

BEGIN_TEXT

The figure below shows \( f(x) \) and its local linearization at
\( x=a \), \( y = $m x - $b \).  (The local linearization is shown in
blue.)
$PAR
$BCENTER
\{ image( insertGraph( $graph ), 'tex_size'=>500 ) \}
$BR
${BITALIC}(Click on the graph to get a larger version.)$EITALIC
$ECENTER

$PAR
What is the value of \( a \)?  
\( a = \) \{ ans_rule(15) \}
$BR
What is the value of \( f(a) \)?  
\( f(a) = \) \{ ans_rule(15) \}
$BR
Use the linearization to approximate the value of \( f($c) \).
\( f($c) = \) \{ ans_rule(15) \}
$BR
Is the approximation an under- or overestimate?  
\{ ans_rule(15) \} (Enter ${BBOLD}under$EBOLD or ${BBOLD}over$EBOLD.)

END_TEXT


ANS( num_cmp( $a ) );
ANS( num_cmp( $m*$a - $b ) );
ANS( num_cmp( $est ) );
ANS( str_cmp( "under" ) );

$f0 = $m*$a - $b;
$f1 = $m*$c - $b;

SOLUTION(EV3(<<'END_SOLUTION'));
$PAR SOLUTION $PAR

Since the line meets the curve at \( x=$a \), we have \( a=$a \).  Since the
point with \( x=$a \) lies on both the line and the curve, we have
\[ 
f(a) = f($a) = $m($a) - $b = $f0.
\]
The approximation is an underestimate because the line lies under the
curve.  Since the linear function approximates \( f(x) \), we have
\[ 
f($c) \approx $m($c) - $b = $f1.
\]

END_SOLUTION

ENDDOCUMENT();
