## DESCRIPTION
## Algebra
## ENDDESCRIPTION

## KEYWORDS('algebra','graph','line','slope')
## Tagged by cmd6a 8/6/06

## DBsubject('Algebra')
## DBchapter('Coordinates and Graphs')
## DBsection('Lines')
## Date('9/02')
## Author('D. Cervone')
## Institution('Union College')
## TitleText1('')
## EditionText1('')
## AuthorText1('')
## Section1('')
## Problem1('')

#KEYWORDS('slopes', 'graphs')
DOCUMENT();        # This should be the first executable line in the problem.

loadMacros(
  "PG.pl",
  "PGbasicmacros.pl",
  "PGchoicemacros.pl",
  "PGanswermacros.pl",
  "PGgraphmacros.pl",
  "PGauxiliaryFunctions.pl",
  "PGunion.pl",        # Union College utilities
  "PGcourse.pl"       # Customization file for the course
);

TEXT(beginproblem());
BEGIN_PROBLEM();
#
#  Random slopes, one steep down, one shallow, one steep up
#
@m = (random(-3,-2,.1),random(-1.5,.2,.1),random(.2,1.5,.1),random(1.5,3,.1));

#
#  Shuffle the slopes
#
@shuffle = NchooseK(4,4);
@m = @m[@shuffle];
@a = ('A','B','C','D')[invert(@shuffle)];

#
#  Random intercepts
#
@b = (random(-5,5,.1),random(-5,5,.1),random(-5,5,.1),random(-5,5,.1));

#
# define the functions and obtain thair graphs
#

$w = 180;  # graph size
$tw = 400; # graph size in TeX

foreach $i (0..3) {
  $f = FEQ("$m[$i]*x + $b[$i]") .
           " for x in <-10,10> using color red and weight=2";
  $g[$i] = init_graph(-9,-9,9,9,axes=>[0,0],grid=>[6,6],size=>[$w,$w]);
  plot_functions($g[$i],$f);
  $image[$i] = image(insertGraph($g[$i]),width=>$w,height=>$w,tex_size=>$tw);
}

##################################################

#
#  Make the table of images
#
sub bold {return $BBOLD.join("",@_).$EBOLD}

@ops = (separation=>30, indent=>0);
$imageTable = 
  BeginTable().
    Row([$image[0],$image[1]],@ops).
    TableSpace(5).
    AlignedRow([bold('A'),bold('B')],@ops).
    TableSpace(40).
    Row([$image[2],$image[3]],@ops).
    TableSpace(5).
    AlignedRow([bold('C'),bold('D')],@ops).
  EndTable();

#
#  Write out the problem text
#
BEGIN_TEXT
  Order the following graphs by ${BITALIC}increasing${EITALIC} slope
  of the line being displayed:
$PAR
  $imageTable
Enter the labels of the graphs (A, B, C, and D) in order of 
  ${BITALIC}increasing${EITALIC} slope:
  \{ans_rule(4)\}, \{ans_rule(4)\}, \{ans_rule(4)\}, and \{ans_rule(4)\}.

END_TEXT

$showPartialCorrectAnswers = 0;
#
#  Set up the answers
#
ANS(str_cmp([@a]));
install_problem_grader(~~&std_problem_grader);

##################################################

END_PROBLEM();
ENDDOCUMENT();        # This should be the last executable line in the problem.
