##DESCRIPTION
##KEYWORDS('integrals', 'substitution')
##Ellis & Gulick section 5.6
##Authored by Zig Fiedorowicz 1/17/2000
##ENDDESCRIPTION
# Edited by K. Lesh, Union College, 10/5/03

DOCUMENT();        # This should be the first executable line in the problem.

loadMacros(
   "PG.pl",
   "PGbasicmacros.pl",
   "PGchoicemacros.pl",
   "PGanswermacros.pl",
   "PGauxiliaryFunctions.pl",
   "PGunion.pl",        # Union College utilities
   "weightedGrader.pl", # Union College grading utility
   "PGcourse.pl",       # Customization file for the course
);

TEXT(beginproblem);
BEGIN_PROBLEM();

$a = random(3,7,1);
$b = random(4,15,1);
$m = random(3,5,1);
$m1 = $m+1;
$n = random(5,8,1);

BEGIN_TEXT
$BBOLD Note: $EBOLD You can get full credit for this problem by just 
answering the last question correctly. The initial questions are meant 
as hints towards the final answer and also allow you the opportunity 
to get partial credit.
$PAR
Consider the indefinite integral 
\( \displaystyle \int x^{$m}\left($a+$b x^{$m1}\right)^{$n}\, dx\)
$PAR
The most appropriate substitution to evaluate this integral is
$BR
\(u\) = \{NAMED_ANS_RULE('substitution',25)\}
$PAR
The substitution above gives \(du = f(x)\,dx\) where
$BR
\(f(x)\) = \{NAMED_ANS_RULE('du',25)\}
$PAR
After making the substitution we obtain the integral 
\( \displaystyle \int g(u)\,du\) where
$BR
\(g(u)\) = \{NAMED_ANS_RULE('intu',25)\}
$PAR
Computing the indefinite integral gives us 
$BR
\( \displaystyle \int g(u)\,du\)  =  \{NAMED_ANS_RULE('ansu',25)\} \(+ C\)
$BR
(Your answer should be a function of \(u\). Do not include the constant
of integration in the answer blank.)
$PAR
After substituting back for \(u\), we obtain the following final 
form of the answer:
$BR
\( \displaystyle \int x^{$m}\left($a+$b x^{$m1}\right)^{$n}\, dx\)
         =  \{ ans_rule(35)\} \(+ C\)
$BR
(Your answer should be a function of \(x\). Do not include the constant
of integration in the answer blank.)
END_TEXT

$mm = $m+1;
$nn = $n+1;
$bm=$b*$mm;
$den = $b*$mm*$nn;

$showPartialCorrectAnswers = 1;
install_weighted_grader();

##########################
NAMED_WEIGHTED_ANS('substitution', fun_cmp("$a+${b}x^$mm", vars=>"x", limits=>[.2,1]),15);                      #  percentage

NAMED_WEIGHTED_ANS('du', fun_cmp("(${bm}x^$m)", vars=>"x", limits=>[.2,1]),15);                      #  percentage

NAMED_WEIGHTED_ANS('intu', fun_cmp("(1/$bm)u^$n", vars=>"u", limits=>[.2,1]),15);
NAMED_WEIGHTED_ANS('ansu', fun_cmp("(1/$bm)(1/$nn)u^($nn)", mode=>"antider", vars=>"u", limits=>[.2,1]),15);
CREDIT_ANS(fun_cmp("(1/$bm)(1/$nn)($a+${b}x^$mm)^$nn",mode=>"antider", vars=>"x", limits=>[.2,1]),['substitution','du','intu','ansu'],40);

##set $PG_environment{'textbook'} in webworkCourse.ph
if (defined($textbook)) {
   if ($textbook eq "EllisGulick5") {
BEGIN_TEXT
This is similar to Problems 19 and 20 in Section 5.6 of the text.
END_TEXT
}
}

END_PROBLEM();
ENDDOCUMENT();
