## DESCRIPTION
## Calculus
## ENDDESCRIPTION

## KEYWORDS('integral' 'partial fraction')
## Tagged by tda2d

## DBsubject('Calculus')
## DBchapter('Techniques of Integration')
## DBsection('Integration by Partial Fractions')
## Date('')
## Author('')
## Institution('Rochester')
## TitleText1('')
## EditionText1('')
## AuthorText1('')
## Section1('')
## Problem1('')
## TitleText2('Calculus: Early Transcendentals')
## EditionText2('1')
## AuthorText2('Rogawski')
## Section2('7.6')
## Problem2('3')

DOCUMENT();        # This should be the first executable line in the problem.

loadMacros(
"PG.pl",
"PGbasicmacros.pl",
"PGchoicemacros.pl",
"PGanswermacros.pl",
"PGauxiliaryFunctions.pl",
"PGnumericalmacros.pl"
);

TEXT(beginproblem());
$showPartialCorrectAnswers = 1;

$a = non_zero_random(-5,5,1);
$av = abs($a);
$bs = random(2,3,1);
$b = $bs * $bs;
while ($b==$av) {
   $bs = random(2,3,1);
   $b = $bs * $bs;
   };

$generator = random(0,1,1);

if ($generator == 0) {
   $A = non_zero_random(-5,6,1);
   $B = non_zero_random(-5,6,1);
   $C = 0;
   while($A == -$B) {$B = non_zero_random(-5,5,1)};

   $soln = "$A*ln(abs(x+$a))+$B*ln(x**2+$b)/2";

   $x2_coeff = $A+$B;
   $x_coeff  = $a * $B;
   $const    = $A * $b;
    }

if ($generator == 1) {
   $A = non_zero_random(-5,5,1);
   $B = 0;
   $C = non_zero_random(-5,5,1);
   $temp1 = -$A*$b;
   $temp2 = $a*$C;
   while($temp1 == $temp2) {
      $C = non_zero_random(-5,5,1);
      $temp2 = $a*$C;
      };

   $soln = "$A*ln(abs(x+$a))+$C*arctan(x/$bs)/$bs";

   $x2_coeff = $A;
   $x_coeff  = $C;
   $const    = $A*$b + $a*$C;
   }

TEXT(EV3(<<'EOT'));
The form of the partial fraction decomposition of a rational function is given below.
$BR
$BR \[ \frac{$x2_coeff x^2 + $x_coeff x + $const}{(x+$a)(x^2+$b)} 
        = \frac{A}{x+$a} + \frac{B x + C}{x^2+$b} \]
$BR
\( A = \) \{ ans_rule(10) \}
\( B = \) \{ ans_rule(10) \}
\( C = \) \{ ans_rule(10) \}
$PAR
Now evaluate the indefinite integral.
$BR
$BR \[ \int \frac{$x2_coeff x^2 + $x_coeff x + $const}{(x+$a)(x^2+$b)} dx \]
$BR \{ ans_rule(40) \}
EOT
ANS(num_cmp($A));
ANS(num_cmp($B));
ANS(num_cmp($C));
ANS(fun_cmp($soln, limits=>[-10,6], mode=>"antider", vars=>'x'));

ENDDOCUMENT();        # This should be the last executable line in the problem.

