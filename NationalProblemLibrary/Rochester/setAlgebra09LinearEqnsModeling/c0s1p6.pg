#DESCRIPTION
#KEYWORDS('algebra', 'area', 'word problem')
# Calculate area of norman window from its width and its perimeter for four
# different widths and list the widths in the order of the area produced.
# This encourages the student to derive the formula defining area as a function
# of the width, instead of doing a one time calculation.
#ENDDESCRIPTION

DOCUMENT();        # This should be the first executable line in the problem.

loadMacros("PG.pl",
           "PGbasicmacros.pl",
           "PGchoicemacros.pl",
           "PGanswermacros.pl",
"PGauxiliaryFunctions.pl");

TEXT(beginproblem());
$showPartialCorrectAnswers = 0;

$perimeter=&random(20.0,50.0);
@width = (100,100,100,100,100);
while (@width != uniq(@width) ) {  #make sure that the widths are different
	$width[0]=&random(3.0,$perimeter/3.0,0.1);
	$width[1]=&random(3.0,$perimeter/3.0,0.1);
	$width[2]=&random(3.0,$perimeter/3.0,0.1);
	$width[3]=&random(3.0,$perimeter/3.0,0.1);
	$width[4]=&random(3.0,$perimeter/3.0,0.1);
}
$pi=3.1415926;
foreach $i (0..4) {
$area[$i]=$perimeter*($width[$i])/2-($pi/8+1/2)*($width[$i]**2.0)  ;
$questions[$i]="Width = " . sprintf("%5.3f",$width[$i]) . " ft.";
}
@correctanswers = 0..4;
#@correctanswers = PGsort sub{$area[0] <=> $area[1]}, @correctanswers;
@correctanswers = PGsort sub{$area[0] < $area[1]}, @correctanswers;
# What a hack!!!!!!-- there must be a better way.
# PGsort has changed as of 6/1/04.  Earlier versions require the commented out call

@correctanswers = &invert(@correctanswers) ;
foreach $i (0..4) {
$correctanswers[$i]++;
}
TEXT(
  qq!  A Norman window has the shape of a rectangle surmounted by a semicircle.
  The perimeter is !,
   sprintf("%6.3f",$perimeter),
   qq! ft.  Order the widths listed below according to the area of
    the corresponding
       Norman window from the lowest area (1) to highest area (5).
       $PAR You will need to enter the numbers 1 through 5 in the entry blanks below.
      $PAR
  !,
	);
TEXT(
	&match_questions_list(@questions)
	);
ANS(str_cmp( [@correctanswers] )  );
TEXT(<<EOT);
$PAR

$BBOLD Remark:$EBOLD To be able to order the sizes of the windows you are going to have to calculate
the area for all five windows from knowing their widths.  Since there are several
calculations it will  save time to figure out and simplify a formula which calculates
 the area from the width
and the perimeter.  This is in contrast to the previous problem where, with only one calculation to
make, it wasn't necessarily worth the effort to find a general formula.  You can use
that example to check your formula however.
$PAR
I do this very frequently when I am doing research and solving problems.  Work out a
special case first.  THEN work out a formula
for the general case and use the solution to the special case to check the formula.
EOT

ENDDOCUMENT();        # This should be the last executable line in the problem.
