##DESCRIPTION
##KEYWORDS('quadratic forms', 'eigenvalue', 'matrix', 'indefinite', 'definite', 'semidefinite', 'classify')
##
##ENDDESCRIPTION

DOCUMENT();        # This should be the first executable line in the problem.

loadMacros(
"PG.pl",
"PGbasicmacros.pl",
"PGchoicemacros.pl",
"PGanswermacros.pl",
"PGgraphmacros.pl",
"PGnumericalmacros.pl",
"PGstatisticsmacros.pl", 
"PGmatrixmacros.pl"
);

TEXT(beginproblem());
$showPartialCorrectAnswers = 1;

$gen = random(0,4,1);

# gen = 0 positive definite
# gen = 1 positive semidefinite
# gen = 2 indefinite 
# gen = 3 negative semidefinite
# gen = 4 negative definite 

if ($gen == 0) { 
        $one = random(1,7,1);
	$two = random($one+1, 10); 
}

if ($gen == 1) { 
	$one = 0;
	$two = random(1,10,1);
}

if ($gen == 2) {
	$one = random(-10,-1,1);
	$two = random(1,10,1);
}

if ($gen == 3) {
	$one = random(-10,-1,1);
	$two = 0;
}

if ($gen == 4) { 
	$one = random(-10,-4,1);
	$two = random($one+1,-1,1);
} 

$gen2 = random(0,3,1);

# use different orthogonal matrices for different values of gen2

if ($gen2 == 0 ){
	$a11 = $one/2 + $two/2;
	$a12 = $one/2 - $two/2;
	$a21 = $a12;
	$a22 = $a11;
}

if ($gen2 == 1) { 
        $a11 = $one/5 + 4*$two/5;
        $a12 = $one/5 - 4*$two/5;
        $a21 = $a12;
        $a22 = $a11;
}

if ($gen2 == 2) { 
	$a11 = $one/5 + 4*$two/5;
	$a12 = 2*$one/5 - 2*$two/5;
	$a21 = $a12;
	$a22 = 4*$one/5 + $two/5;
}

if ($gen2 == 3) { 

	$a11 = 9*$one/10 + $two/10;
	$a12 = 3*$two/10 - 3*$one/10;
	$a21 = $a12;
	$a22 = $one/10 + 9*$two/10;
}

$mc = new_multiple_choice();

@ans = ("\(Q(x)\) is positive definite", "\(Q(x)\) is positive semidefinite", "\(Q(x)\) is indefinite", 
        "\(Q(x)\) is negative semidefinite",  "\(Q(x)\) is negative definite", "\(Q(x)\) is positive definite", 
        "\(Q(x)\) is positive semidefinite", "\(Q(x)\) is indefinite", "\(Q(x)\) is negative semidefinite"); 

$mc -> qa ("Classify the quadratic form \(Q(x) = x^TAx: \)", $ans[$gen]); 

$mc -> extra ($ans[$gen+1], $ans[$gen+2], $ans[$gen+3], $ans[$gen+4]); 

BEGIN_TEXT

Find the eigenvalues of the matrix 
$BR
\{ mbox( '\(A = \)', display_matrix([[$a11, $a12], [$a21, $a22]]), '.' ) \} 
$BR
The smaller eigenvalue is \( \lambda_1 = \) \{ans_rule(5)\}, 
$BR
and the bigger eigenvalue is \( \lambda_2 = \) \{ans_rule(5)\}. 
$BR
\{$mc -> print_q \}
$BR
\{$mc -> print_a \}

END_TEXT

ANS(num_cmp($one));
ANS(num_cmp($two));
ANS(radio_cmp($mc->correct_ans));

ENDDOCUMENT();       # This should be the last executable line in the problem.

