## DESCRIPTION
##  ## Differential equations
##
##
## ENDDESCRIPTION
DOCUMENT() ;        # This should be the first executable line in the problem.

loadMacros(
"PG.pl",
"PGbasicmacros.pl",
"PGchoicemacros.pl",
"PGanswermacros.pl",
"PGauxiliaryFunctions.pl",
"PGgraphmacros.pl",
"PGdiffeqmacros.pl",
) ;

TEXT(beginproblem()) ;
$showPartialCorrectAnswers = 0 ;

$a= non_zero_random(-4,4,1);
$b= non_zero_random(-4,4,1);
$c = $b + random (0,1)*non_zero_random(-4,4,1);
$d = non_zero_random(-4,4,1);  # this is exact if $b==$c
$n = random(1,4,1);
$n1=$n+1;
$m = random(2,4,1);
$m1= $m+1;

BEGIN_TEXT

Use the "mixed partials" check to see if the following differential equation is exact.
$BR
If it is exact find
 a function F(x,y) whose level curves are solutions to the differential equation
\[ ( ${a}xy^2 + ${b}y )dx + ( ${a}x^2y +${b}x )dy= 0 \]
$BR
\{ pop_up_list(' ' => '&nbsp','not_exact' => 'not exact', 'exact' => 'exact') \}
$BR
\(F(x,y) = \) \{ ans_rule(30) \}
END_TEXT

 $equationIsExactQ = (1) ? 'exact': 'not_exact';
 ANS(str_cmp($equationIsExactQ) );
 $ok = sub {my $student_ans = shift;
            $student_ans = '' unless defined $student_ans;
            new AnswerHash(
                                                        'score'                                 =>      1,
                                                        'correct_ans'                   =>      '',
                                                        'student_ans'                   =>      $student_ans,
                                                        'ans_message'                   =>      '',
                                                        'type'                                  =>      'ok',
                                                        'preview_text_string'   =>      '',
                                                        'preview_latex_string'  =>      '',
                                                        'original_student_ans'  =>      '');
                        };

 $ans_eval = ($equationIsExactQ eq 'exact') ? level_curve_check(
          FEQ("( - ${a}xy^2 - ${b}y )/( ${a}x^2y +${b}x )"),
          #FEQ("x+y"),
          #FEQ("y"),
          #FEQ("y-e^x"),
          FEQ("( ${a}/2) x^2y^2  + (${b})xy "),
           initial_t => 1, initial_y => 5) :
          $ok;   
      
ANS($ans_eval);
ENDDOCUMENT() ;        # This should be the last executable line in the problem.



