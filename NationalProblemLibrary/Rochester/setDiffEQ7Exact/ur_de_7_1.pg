## DESCRIPTION
## Calculus
## ENDDESCRIPTION

## KEYWORDS('differential equation' 'exact')
## Tagged by tda2d

## DBsubject('Calculus')
## DBchapter('Differential Equations')
## DBsection('Exact Equations')
## Date('')
## Author('')
## Institution('Rochester')
## TitleText1('')
## EditionText1('')
## AuthorText1('')
## Section1('')
## Problem1('')

DOCUMENT() ;        # This should be the first executable line in the problem.

loadMacros(
"PG.pl",
"PGbasicmacros.pl",
"PGanswermacros.pl",
"Parser.pl",
) ;

TEXT(beginproblem()) ;
$showPartialCorrectAnswers = 0 ;

Context('Numeric')->variables->add(y=>'Real');


BEGIN_TEXT

The following differential equation is exact.
$BR 
Find a function \(F(x,y)\) whose level curves are solutions to the differential equation
\[ ydy -xdx= 0 \]
\( F(x,y) = \) \{ ans_rule(30) \}

END_TEXT

# Specially modified for this particular answer
sub cmult {
  my ( $correct, $student, $self ) = @_;
  my $context = Context()->copy;
  my $const = $student->eval(x=>0, y=>0);
  $student = Formula($context, $student-$const);
  if($student== Formula($context, "0")) {
    Value::Error("The function cannot be constant");
    return 0;
  }
  $context->flags->set(no_parameters=>0);
  $context->variables->add('C1'=>'Parameter');
  my $c1 = Formula($context,'C1');
  $student = Formula($context, "$student");
  $correct = Formula($context,"$c1*$correct");
  return $correct == $student;
}

ANS(Compute("2 x^2 - 2 y^2")->cmp(checker => ~~&cmult ));

#ANS(level_curve_check("x/y", "2x^2-2y^2",  initial_t =>1 , initial_y=>2   ) );

ENDDOCUMENT() ;        # This should be the last executable line in the problem.



